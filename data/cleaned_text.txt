

ระบบแนะนำทรงคิ้วและแต่งหน้าด้วยปัญญาประดิษฐ์
Deep Brow : AI-based Eyebrow and Makeup Recommendation







โดย นายชิษณุชา อัครกุลพิชา







โครงงานนี้เป็นส่วนหนึ่งของการศึกษารายวิชา AI4903 โครงงานปัญญาประดิษฐ์
แบบผสมผสาน (Hybrid Artificial Intelligence Project)
หลักสูตรวิทยาศาสตรบัณฑิต สาขาวิชาปัญญาประดิษฐ์
คณะวิทยาศาสตร์และเทคโนโลยี  มหาวิทยาลัยหัวเฉียวเฉลิมพระเกียรติ
ภาคการศึกษาที่ 2 ปีการศึกษา 2567
ระบบแนะนำทรงคิ้วและแต่งหน้าด้วยปัญญาประดิษฐ์
Deep Brow : AI-based Eyebrow and Makeup Recommendation





โดย
นายชิษณุชา อัครกุลพิชา
รหัสนักศึกษา 640549-057





อาจารย์ที่ปรึกษา
อาจารย์ ดร. ศิลา เต็มศิริฤกษ์กุล
อาจารย์ ดร. ธัญมน พัฒนไพรสณฑ์
อาจารย์ ดร.นพมาศ อัครจันทโชติ




โครงงานนี้เป็นส่วนหนึ่งของการศึกษารายวิชา AI4903 โครงงานปัญญาประดิษฐ์
แบบผสมผสาน (Hybrid Artificial Intelligence Project)
หลักสูตรวิทยาศาสตรบัณฑิต สาขาวิชาปัญญาประดิษฐ์
คณะวิทยาศาสตร์และเทคโนโลยี  มหาวิทยาลัยหัวเฉียวเฉลิมพระเกียรติ
ภาคการศึกษาที่ 2 ปีการศึกษา 2567
640549 : สาขาวิชาปัญญาประดิษฐ์
        นายชิษณุชา อัครกุลพิชา ระบบแนะนำทรงคิ้วด้วยปัญญาประดิษฐ์:อาจารย์ที่ปรึกษาโครงงานพิเศษ : อาจารย์ ดร.ศิลา เต็มศิริฤกษ์กุล และอาจารย์ ดร. ธัญมน พัฒนไพรสณฑ์ และอาจารย์ ดร.นพมาศ อัครจันทโชติ 66 หน้า
บทคัดย่อ
	ในยุคปัจจุบันที่ความงามและบุคลิกภาพมีบทบาทสำคัญในชีวิตประจำวัน ทรงคิ้วถือเป็นองค์ประกอบหนึ่งที่ส่งผลอย่างมากต่อภาพลักษณ์โดยรวม โครงงานนี้จึงนำเสนอการพัฒนา ระบบแนะนำทรงคิ้วด้วยปัญญาประดิษฐ์ "Deep Brow: AI-based Eyebrow Recommendation" เพื่อช่วยให้ผู้ใช้สามารถเลือกและทดลองทรงคิ้วที่เหมาะสมกับโครงหน้าของตนเองได้อย่างสะดวกและแม่นยำ โดยไม่ต้องพึ่งพาผู้เชี่ยวชาญ
ระบบใช้เทคโนโลยีหลัก ได้แก่ YOLOv11 Instance Segmentation สำหรับการตรวจจับและลบทรงคิ้ว, EfficientViT-B1 สำหรับจำแนกรูปทรงใบหน้า, Mediapipe Face Mesh สำหรับการวิเคราะห์โครงสร้างใบหน้า, Stable Diffusion 2 Inpainting สำหรับสร้างทรงคิ้วใหม่อย่างสมจริง และ CSD-MIT สำหรับการถ่ายโอนสไตล์การแต่งหน้าแบบเสมือนจริง ทั้งหมดถูกรวมเข้ากับ Web Application ที่พัฒนาโดยใช้ FastAPI และ React เพื่อให้ผู้ใช้สามารถอัปโหลดภาพใบหน้า เลือกทรงคิ้ว และทดลองแต่งหน้าได้อย่างง่ายดายผ่านอินเทอร์เฟซที่เป็นมิตร
ผลการดำเนินงานแสดงให้เห็นว่า ระบบสามารถตรวจจับทรงคิ้วได้อย่างแม่นยำ (Recall 94.59%, mAP 98.84%) และจำแนกรูปทรงใบหน้าได้อย่างมีประสิทธิภาพ (Accuracy 83.6%) พร้อมทั้งสามารถถ่ายโอนการแต่งหน้าได้อย่างสมจริง (SSIM 0.9001, FID 40.1973) ระบบช่วยให้ผู้ใช้สามารถทดลองปรับแต่งทรงคิ้วและลุคการแต่งหน้าได้ตามต้องการ โดยลดความเสี่ยงจากการตกแต่งจริง และเพิ่มความมั่นใจในการตัดสินใจเลือกทรงคิ้วที่เหมาะสม
โครงการนี้จึงเป็นการบูรณาการเทคโนโลยีปัญญาประดิษฐ์เพื่อเสริมสร้างประสบการณ์ความงามเฉพาะบุคคล ช่วยให้ผู้ใช้งานสามารถดูแลบุคลิกภาพของตนเองได้อย่างมีประสิทธิภาพ สะดวก รวดเร็ว และแม่นยำยิ่งขึ้น
คำสำคัญ : ปัญญาประดิษฐ์ / การประมวลผลภาพ / ทรงคิ้ว / การจำลองเสมือนจริง / การถ่ายโอนการแต่งหน้า

กิตติกรรมประกาศ
	โครงงาน “ระบบแนะนำทรงคิ้วและแต่งหน้าด้วยปัญญาประดิษฐ์” นี้สำเร็จได้ด้วยการสนับสนุนและช่วยเหลือจากบุคคลต่าง ๆ ดังนี้
	ข้าพเจ้าขอกราบขอบพระคุณ อาจารย์ ดร. ศิลา เต็มศิริฤกษ์กุล, อาจารย์ ดร. ธัญมน พัฒนไพรสณฑ์ และ อาจารย์ ดร. นพมาศ อัครจันทโชติ อาจารย์ที่ปรึกษาโครงงาน ซึ่งได้ให้คำแนะนำ ความรู้ และแนวทางในการดำเนินโครงงาน “Deep Brow: AI-based Eyebrow Recommendation” ตลอดระยะเวลาของการศึกษาและพัฒนาโครงงานฉบับนี้ ด้วยความเอาใจใส่ อดทน และให้กำลังใจอย่างต่อเนื่อง จนข้าพเจ้าสามารถพัฒนาโครงงานนี้ให้สำเร็จลุล่วงได้ตามเป้าหมาย
ขอขอบพระคุณ คณะวิทยาศาสตร์และเทคโนโลยี มหาวิทยาลัยหัวเฉียวเฉลิมพระเกียรติ ที่เปิดโอกาสให้ข้าพเจ้าได้เรียนรู้และลงมือปฏิบัติจริงในรายวิชาโครงงานปัญญาประดิษฐ์แบบผสมผสาน (AI4903) รวมถึงสนับสนุนทรัพยากรต่าง ๆ ที่จำเป็นต่อการพัฒนาระบบ
ขอขอบคุณ ครอบครัว เพื่อน และผู้มีส่วนเกี่ยวข้องทุกท่าน ที่คอยให้กำลังใจ สนับสนุน และเป็นแรงผลักดันให้ข้าพเจ้ามีความมุ่งมั่นในการศึกษาค้นคว้าและพัฒนาโครงงานนี้อย่างเต็มกำลัง
สุดท้ายนี้ ข้าพเจ้าขอแสดงความขอบคุณตนเองที่ไม่ย่อท้อต่ออุปสรรค และพยายามพัฒนาความรู้ ความสามารถในทุกขั้นตอนของการดำเนินโครงงาน ด้วยความหวังว่าองค์ความรู้จากโครงงานนี้จะสามารถนำไปต่อยอดหรือสร้างประโยชน์ให้กับผู้ใช้งานและวงการเทคโนโลยีความงามต่อไปในอนาคต

ชิษณุชา อัครกุลพิชา 
สารบัญ
	หน้า
บทคัดย่อ		ง
กิตติกรรมประกาศ		จ
สารบัญ		ฉ
สารบัญตาราง		ซ
สารบัญรูป		ญ
สารบัญแผนภูมิ		ฑ
บทที่ 
	1 	บทนำ		1
		ที่มาและความสำคัญ		1
		วัตถุประสงค์ของโครงงาน		3
		ขอบเขตของโครงงาน		4
		ขั้นตอนการดำเนินงาน		5
		คำนิยามศัพท์เฉพาะ(ถ้ามี)		10
		ประโยชน์ที่คาดว่าจะได้รับ		10
	2  	ระบบงานปัจจุบัน		11
	วิเคราะห์ระบบและงานวิจัยที่เกี่ยวข้อง		11
	ปัญหาระบบงานปัจจุบัน		14
	แนวทางการพัฒนาระบบใหม่		15
	3 	ทฤษฎี เครื่องมือที่ใช้ และการออกแบบระบบ		19
	ทฤษฎีที่ใช้ในการพัฒนา		19
	เครื่องมือและเทคโนโลยีที่เกี่ยวข้อง		21
	สถาปัตยกรรมระบบ (System Architecture)		25
	ผังงาน (Flowchart)		33
	4 	ผลการดำเนินงาน		36
			
			
สารบัญ (ต่อ)
		หน้า
บทที่
	5 	สรุปและอภิปรายผล		50
	สรุปและอภิปรายผลการดำเนินงาน		50
	ข้อจำกัดของระบบงาน		51
	ข้อเสนอแนะเพื่อการพัฒนา		52
บรรณานุกรม		54
ภาคผนวก
	ก	แผนผังการทำงานของระบบ		55
	ข	คู่มือการติดตั้งระบบ		59
	ค	คู่มือการใช้งานระบบ		63
ประวัติผู้จัดทำ		66
สารบัญตาราง
ตารางที่	หน้า
  4.1	Classification Report 		40
  	
สารบัญรูป
รูปที่	หน้า
1.1	ขั้นตอนการดำเนินงานและระยะเวลาดำเนินการ (Gantt Chart)		9
3.1	ภาพแสดงสถาปัตยกรรม Yolo V11		25
3.2 	ภาพแสดงสถาปัตยกรรม EfficientViT		26
3.3 	ภาพแสดงสถาปัตยกรรม Stable Diffusion Inpainting		28
3.4 	ภาพแสดงสถาปัตยกรรม CSD-MIT		30
3.5 	ผังงานแสดงขั้นตอนการทำงานของระบบ		33
4.1	ผลลัพธ์ทดสอบผลด้วยrecall(M)		36
4.2 	ผลลัพธ์การตรวจจับและ Segmentation ของคิ้ว		37
4.3 	ผลลัพธ์ของ Eyebrow Mask		37
4.4 	ผลลัพธ์การลบคิ้วด้วย Inpainting		38
4.5 	รายงานการจำแนกรูปทรงใบหน้าด้วยเมทริกซ์		41
4.6 	ภาพใบหน้าพร้อมป้ายกำกับรูปทรงใบหน้า		42
4.7 	Eyebrow Mask		43
4.8 	ภาพใบหน้าพร้อมป้ายกำกับรูปทรงใบหน้า		44
4.9 	ภาพใบหน้าพร้อมการถ่ายโอนสไตล์การแต่งหน้า		46
4.10 	ภาพแสดงหน้าเว็บไซต์การรับข้อมูลโอกาสงานสำคัญจากผู้ใช้		47
4.11 	ภาพแสดงหน้าเว็บไซต์แสดงสไตส์แต่งหน้า		47
4.12 	ภาพแสดงหน้าเว็บไซต์แสดงสไตส์คิ้ว		48
4.13 	ภาพแสดงหน้าเว็บไซต์		48
4.14 	ภาพแสดงหน้าเว็บไซต์แสดงให้เลือกทรงคิ้ว		49









	
	
บทที่ 1
บทนำ
        ในปัจจุบัน อุตสาหกรรมความงามเป็นหนึ่งในอุตสาหกรรมที่เติบโตอย่างรวดเร็ว ได้รับอิทธิพลจากเทรนด์แฟชั่นและความก้าวหน้าทางเทคโนโลยี ผู้บริโภคยุคใหม่ให้ความสำคัญกับการเสริมสร้างบุคลิกภาพและความมั่นใจผ่านการเลือกผลิตภัณฑ์ที่เหมาะสมกับตนเองรวมถึงการปรับแต่งองค์ประกอบต่าง ๆ บนใบหน้า หนึ่งในองค์ประกอบสำคัญคือ "ทรงคิ้ว" ซึ่งมีอิทธิพลต่อความสมดุลของโครงหน้า และส่งผลต่อภาพลักษณ์โดยรวม
        การเลือกทรงคิ้วที่เหมาะสมในอดีตจำเป็นต้องพึ่งพาผู้เชี่ยวชาญ เช่น ช่างแต่งหน้าหรือช่างออกแบบคิ้วซึ่งมีค่าใช้จ่ายสูงและอาจไม่สะดวกสำหรับผู้ใช้ทั่วไปนอกจากนี้ การเลือกรูปแบบทรงคิ้วยังขึ้นอยู่กับรสนิยมเฉพาะบุคคลทำให้เกิดความลังเลในการตัดสินใจด้วยเหตุนี้เทคโนโลยีปัญญาประดิษฐ์ (Artificial Intelligence: AI) และการประมวลผลภาพ (Computer Vision) จึงได้รับการพัฒนาขึ้นเพื่อตอบโจทย์ดังกล่าวช่วยให้ผู้ใช้สามารถเลือกและทดลองทรงคิ้วที่เหมาะสมได้โดยอัตโนมัติ
        โครงงาน "Deep Brow: AI-based Eyebrow Recommendation" จึงมุ่งเน้นการพัฒนาระบบแนะนำทรงคิ้วอัจฉริยะ เพื่อยกระดับประสบการณ์การแต่งหน้าของผู้ใช้ให้สะดวก รวดเร็ว และแม่นยำยิ่งขึ้น ผ่านการวิเคราะห์รูปทรงใบหน้าร่วมกับเทคโนโลยีสร้างภาพเสมือนจริง
     
1.1 ที่มาและความสำคัญ
        ในยุคสมัยที่บุคลิกภาพและภาพลักษณ์มีอิทธิพลต่อการใช้ชีวิตในแทบทุกมิติ ไม่ว่าจะเป็นด้านการทำงาน การเข้าสังคม หรือแม้กระทั่งการแสดงออกบนโลกออนไลน์ อุตสาหกรรมความงามและการแต่งหน้าจึงกลายเป็นหนึ่งในอุตสาหกรรมที่เติบโตอย่างก้าวกระโดด ความงามไม่ได้เป็นเพียงเครื่องมือในการเพิ่มเสน่ห์ภายนอกอีกต่อไป แต่กลายเป็นเครื่องมือที่สำคัญในการสื่อสารภาพลักษณ์ ความมั่นใจ และตัวตนของแต่ละบุคคล โดยเฉพาะอย่างยิ่งในกลุ่มคนรุ่นใหม่ที่ให้ความสำคัญกับการดูแลตนเอง พวกเขาให้คุณค่ากับภาพลักษณ์ในฐานะส่วนหนึ่งของการแสดงออกถึงอัตลักษณ์เฉพาะตัว และยังเชื่อมโยงกับการได้รับโอกาสที่ดีในด้านอาชีพและสังคม
        จากข้อมูลการวิเคราะห์ของศูนย์วิจัย Krungthai COMPASS พบว่าตลาดเครื่องสำอางในประเทศไทยมีอัตราการเติบโตเฉลี่ยราว 5.0% ต่อปี นับตั้งแต่ปี 2565 เป็นต้นมา และมีแนวโน้มจะขยายตัวสูงขึ้นถึง 1.5 เท่าในช่วงเวลาไม่กี่ปีหลังการระบาดของโควิด-19 ข้อมูลดังกล่าวสะท้อนให้เห็นถึงพฤติกรรมของผู้บริโภคที่เปลี่ยนแปลงไปอย่างชัดเจน จากการมองความงามในเชิงความสวยเพียงอย่างเดียว ไปสู่มิติของการดูแลบุคลิกภาพเพื่อการพัฒนาในทุกด้านของชีวิต ทั้งนี้เพราะการแต่งหน้าไม่ได้เป็นเพียงการแต่งแต้มสีสันให้ใบหน้าสวยงามเท่านั้น แต่ยังเป็นการเสริมสร้างความมั่นใจ การสื่อสารถึงความพร้อมในบริบทต่าง ๆ เช่น การสัมภาษณ์งาน การนำเสนอผลงานในที่ประชุม หรือแม้แต่การปรากฏตัวในงานสำคัญต่าง ๆ
        องค์ประกอบที่สำคัญอย่างหนึ่งในการแต่งหน้าและการดูแลความงามที่ไม่สามารถละเลยได้ คือ “ทรงคิ้ว” เพราะคิ้วเป็นเหมือนกรอบหน้าที่ช่วยกำหนดสัดส่วนของใบหน้าให้เกิดความสมดุล ทั้งยังสามารถช่วยเสริมจุดเด่นและกลบจุดด้อยได้อย่างมีประสิทธิภาพ หากทรงคิ้วได้รับการออกแบบอย่างเหมาะสม ก็จะช่วยเน้นย้ำให้การแต่งหน้าดูสมบูรณ์แบบมากยิ่งขึ้น และส่งเสริมบุคลิกภาพรวมของผู้ใช้งานให้มีความมั่นใจมากยิ่งขึ้นอีกด้วย การเลือกทรงคิ้วที่เหมาะสมสามารถสะท้อนถึงสไตล์ของแต่ละคนได้ชัดเจน ซึ่งกระบวนการออกแบบคิ้วนั้นในอดีตจำเป็นต้องพึ่งช่างแต่งหน้าหรือผู้เชี่ยวชาญเฉพาะทาง ซึ่งแม้จะให้ผลลัพธ์ที่ดี แต่ก็มักต้องแลกมาด้วยต้นทุนที่สูงทั้งในแง่ของเวลา ค่าใช้จ่าย และโอกาส
        นอกจากนี้ ยังมีผู้บริโภคจำนวนไม่น้อยที่ต้องเผชิญกับ “ต้นทุนแฝง” ในการเลือกทรงคิ้วที่ไม่เหมาะสม เช่น การกันคิ้วแล้วเสียรูปทรง การสักคิ้วถาวรแต่ไม่ตรงกับรูปหน้าที่แท้จริง ส่งผลให้เกิดความไม่มั่นใจในการใช้ชีวิตประจำวัน ต้นทุนเหล่านี้ไม่ได้วัดค่าเป็นตัวเงินได้เสมอไป เพราะยังมีต้นทุนทางอารมณ์ เช่น ความรู้สึกเสียความมั่นใจ หรือความเครียดจากการไม่สามารถแก้ไขรูปคิ้วได้ในทันที ซึ่งในหลายกรณีผู้ใช้บริการต้องเสียทั้งเงินและเวลาเพื่อไปแก้ไข หรือปรับเปลี่ยนลุคใหม่อีกครั้ง
        ด้วยความท้าทายและข้อจำกัดเหล่านี้ จึงเกิดแนวคิดในการพัฒนาโครงงาน “Deep Brow: AI-based Eyebrow Recommendation” ขึ้นมาโดยมีเป้าหมายสำคัญคือ การนำเทคโนโลยีปัญญาประดิษฐ์ (AI) เข้ามาช่วยวิเคราะห์รูปทรงใบหน้าและแนะนำทรงคิ้วที่เหมาะสมกับแต่ละบุคคลได้อย่างเป็นธรรมชาติและแม่นยำ โดยไม่ต้องพึ่งพาช่างแต่งหน้าหรือเข้าร้านบริการด้านความงามให้ยุ่งยาก ระบบนี้จะเป็นเสมือน “ที่ปรึกษาเสริมความงาม” ส่วนตัวที่สามารถใช้งานได้ผ่าน Web Application โดยตรงจากที่บ้าน ลดภาระทั้งด้านเวลาและค่าใช้จ่าย และที่สำคัญคือ ไม่มีความเสี่ยงจากการเลือกผิดพลาดที่ไม่สามารถย้อนกลับได้เหมือนการสักคิ้วถาวร
        ระบบ Deep Brow ทำงานโดยใช้การผสานเทคโนโลยีหลายแขนง ได้แก่ EfficientViT-B1 ที่ทำหน้าที่วิเคราะห์ภาพใบหน้าร่วมกับ Mediapipe Face Mesh ซึ่งสามารถตรวจจับจุดต่าง ๆ บนใบหน้าได้มากกว่า 400 จุด เพื่อใช้ในการจำแนกรูปหน้าว่าเป็นรูปกลม รูปรี รูปหัวใจ หรือรูปเหลี่ยม จากนั้นจะทำการจับคู่กับฐานข้อมูลของทรงคิ้วที่เหมาะสมกับแต่ละรูปหน้าอย่างชาญฉลาด หลังจากนั้นจึงใช้โมเดล YOLOv11 ซึ่งเป็นเทคโนโลยีด้านการตรวจจับวัตถุแบบเรียลไทม์ เพื่อลบคิ้วเดิมออกอย่างแม่นยำโดยไม่กระทบองค์ประกอบอื่นบนใบหน้า และสร้างคิ้วใหม่ขึ้นมาด้วยเทคนิค Inpainting ผ่านโมเดล Stable Diffusion 2 ซึ่งให้ผลลัพธ์ที่สมจริงมากเสมือนเป็นภาพถ่ายจริงของผู้ใช้งานเอง สุดท้ายยังมีฟังก์ชันแนะนำลุคการแต่งหน้าแบบ Virtual Makeup ผ่านโมเดล CSD-MIT ที่สามารถประมวลผลและแสดงผลลัพธ์ลุคที่เหมาะสมตาม “โอกาสใช้งาน” ที่ผู้ใช้เลือก เช่น งานสัมภาษณ์ งานแต่งงาน หรือการออกงานทางการ ซึ่งจะช่วยให้ผู้ใช้มองเห็นภาพรวมของตนเองหลังจากปรับทรงคิ้วและแต่งหน้าเสร็จสมบูรณ์แล้ว
        คุณสมบัติที่ทำให้ Deep Brow แตกต่างจากระบบทั่วไป คือความสามารถในการใช้งานได้อย่างทันทีและไม่มีความเสี่ยงใด ๆ ผู้ใช้สามารถทดลองปรับเปลี่ยนทรงคิ้วผ่าน Web Application ได้ตลอดเวลาโดยไม่ต้องเดินทางออกนอกบ้าน ไม่จำเป็นต้องจองคิวล่วงหน้า และไม่ต้องเสียค่าใช้จ่ายจำนวนมาก ขณะเดียวกันระบบยังรองรับผู้ใช้งานทุกเพศ ทุกวัย โดยออกแบบให้มีอินเตอร์เฟซที่เป็นมิตร ใช้งานง่าย และสามารถเข้าถึงได้จากทุกอุปกรณ์

1.2 วัตถุประสงค์ของโครงงาน
        1) พัฒนาแบบจำลองปัญญาประดิษฐ์ สำหรับการวิเคราะห์โครงหน้า
        2) พัฒนาระบบแนะนำทรงคิ้วที่เหมาะสม
        3) พัฒนาระบบตรวจจับและลบทรงคิ้วออกจากภาพอย่างแม่นยำ 

1.3 ขอบเขตของโครงงาน
    โครงงาน Deep Brow: AI-based Eyebrow Recommendation เป็นระบบแนะนำทรงคิ้วอัจฉริยะที่ใช้เทคโนโลยีปัญญาประดิษฐ์ (AI) และการประมวลผลภาพ (Computer Vision) เพื่อช่วยให้ผู้ใช้งานสามารถเลือกทรงคิ้วที่เหมาะสมกับใบหน้าของตนเองได้อย่างแม่นยำ สะดวก และปลอดภัยก่อนการปรับแต่งจริง โดยมีขอบเขตการพัฒนาและใช้งานดังต่อไปนี้:
* ขอบเขตด้านแพลตฟอร์มที่รองรับ
ระบบได้รับการพัฒนาเป็น Web Application ที่สามารถเข้าถึงผ่านเบราว์เซอร์ทั้งในคอมพิวเตอร์และอุปกรณ์พกพา เช่น สมาร์ตโฟนและแท็บเล็ต โดยไม่จำเป็นต้องติดตั้งแอปพลิเคชันเพิ่มเติม รองรับการใช้งานในทุกระบบปฏิบัติการที่สามารถเข้าถึงเว็บไซต์ได้
* ความสามารถในการทำงานแบบเรียลไทม์
ระบบในเวอร์ชันปัจจุบันยังไม่รองรับการแต่งหน้าหรือแนะนำทรงคิ้วแบบเรียลไทม์ผ่านกล้อง (Live Camera Processing) ผู้ใช้จำเป็นต้องอัปโหลดภาพใบหน้าที่ชัดเจน (หน้าตรง) เพื่อให้ระบบทำการวิเคราะห์และสร้างลุคเสมือนจริง


* ขอบเขตด้านฟีเจอร์การทำงานหลักของระบบ
ระบบประกอบด้วยโมดูลการทำงานที่เชื่อมโยงกันอย่างครบวงจร ดังนี้:
1. YOLOv11 Instance Segmentation
ใช้สำหรับตรวจจับและสร้างมาสก์ของทรงคิ้วจากภาพใบหน้า เพื่อเตรียมพื้นที่สำหรับการลบคิ้วเดิมและแทนที่ด้วยทรงคิ้วใหม่อย่างแม่นยำ
2. Mediapipe Face Mesh
ใช้ในการวิเคราะห์โครงสร้างใบหน้า โดยตรวจจับจุด Landmark ที่สำคัญบนใบหน้ามากกว่า 400 จุด เพื่อประเมินสมดุลและลักษณะเฉพาะของโครงหน้า
3. EfficientViT-B1
เป็นโมเดล Vision Transformer ที่ใช้สำหรับจำแนกรูปทรงใบหน้า เช่น รูปกลม รูปไข่ รูปยาว หรือรูปเหลี่ยม เพื่อใช้เป็นข้อมูลพื้นฐานในการเลือกทรงคิ้วที่เหมาะสม
4. Stable Diffusion 2 Inpainting
ใช้สำหรับสร้างทรงคิ้วใหม่ที่กลมกลืนและสมจริงลงบนใบหน้าผู้ใช้งาน โดยอิงจาก mask ที่ได้จากการประมวลผลร่วมกับคำอธิบายลักษณะคิ้ว (prompt) เช่น “eyebrow, medium arch, thick, dark brown”
5. CSD-MIT (Content-Style Decoupling Makeup Transfer)
ใช้สำหรับถ่ายโอนลุคการแต่งหน้าแบบเสมือนจริงจากภาพอ้างอิงมายังภาพใบหน้าของผู้ใช้ ช่วยให้ผู้ใช้สามารถทดลองลุคที่หลากหลายได้ก่อนตัดสินใจแต่งหน้าจริง
6. OpenCV และ NumPy
ใช้สำหรับการประมวลผลภาพเบื้องต้น เช่น การปรับขนาดภาพ การแปลงสี การใช้มาสก์ และการจัดการภาพให้อยู่ในคุณภาพที่เหมาะสมก่อนนำไปประมวลผลในโมเดล AI




1.4 ขั้นตอนการดำเนินงาน
        โครงงาน Deep Brow: AI-based Eyebrow Recommendation ดำเนินงานโดยให้ความสำคัญกับ การพัฒนาและฝึกแบบจำลอง AI เป็นหลัก เพื่อให้ระบบสามารถตรวจจับทรงคิ้ว วิเคราะห์โครงหน้า และแนะนำทรงคิ้วที่เหมาะสมได้อย่างแม่นยำ ระบบจะถูกพัฒนาโดยใช้เทคนิค Deep Learning และ Computer Vision ในการประมวลผลภาพใบหน้าและปรับแต่งทรงคิ้วเสมือนจริง นอกจากนี้ ยังมีการพัฒนา Web Application เพื่อให้ผู้ใช้สามารถทดลองทรงคิ้วที่แนะนำได้
โครงงานนี้แบ่งขั้นตอนการดำเนินงานออกเป็น 5 ขั้นตอนหลัก ดังนี้
     1. การรวบรวมข้อมูล (Data Collection)
    ขั้นตอนแรกของการพัฒนาแบบจำลอง AI คือ การรวบรวมข้อมูลที่มีคุณภาพสูง เพื่อใช้ในการฝึกแบบจำลองให้สามารถทำงานได้อย่างมีประสิทธิภาพ
1.1 รวบรวมภาพใบหน้าพร้อมทรงคิ้วหลากหลายรูปแบบ
* คัดเลือกชุดข้อมูลจากแหล่งที่เชื่อถือได้ เช่น ฐานข้อมูลสาธารณะ หรือสร้างชุดข้อมูลใหม่โดยใช้ภาพที่ได้รับอนุญาต   
* จัดหมวดหมู่ภาพใบหน้าตามโครงสร้างของใบหน้า เช่น ใบหน้ากลม,ใบหน้ายาว, ใบหน้าเหลี่ยม,ใบหน้ารูปหัวใจ ฯลฯ
  1.2 เตรียมข้อมูลเกี่ยวกับการแต่งหน้า
* ศึกษาและรวบรวมโทนสีและสไตล์การแต่งหน้าที่เป็นที่นิยม
* ใช้เป็นข้อมูลอ้างอิงสำหรับการปรับแต่งทรงคิ้วให้สอดคล้องกับการแต่งหน้า
  1.3 ประมวลผลล่วงหน้า (Preprocessing)
* ปรับขนาดภาพและทำ Data Augmentation เช่น การเปลี่ยนแสงและมุมมอง เพื่อเพิ่มความหลากหลายให้กับชุดข้อมูล
* ใช้เทคนิค Image Filtering และ Normalization เพื่อลดสัญญาณรบกวนและทำให้ข้อมูลพร้อมใช้งานกับแบบจำลอง
     2. การพัฒนาและฝึกแบบจำลอง (Model Development) 
        ขั้นตอนนี้เป็นหัวใจสำคัญของโครงการ ซึ่งเกี่ยวข้องกับการฝึกและพัฒนาแบบจำลองปัญญาประดิษฐ์เพื่อให้สามารถตรวจจับทรงคิ้ว วิเคราะห์โครงหน้า และแนะนำทรงคิ้วที่เหมาะสมได้ โดยแบ่งการพัฒนาเป็นส่วนหลักๆ ดังนี้
2.1 การตรวจจับและแยกทรงคิ้วด้วย YOLOv11
* การใช้แบบจำลองYOLOv11
        โครงงานใช้ YOLOv11 ซึ่งเป็นโมเดลที่รองรับ Instance Segmentation เพื่อตรวจจับและแยกทรงคิ้วออกจากภาพใบหน้าที่ผู้ใช้อัปโหลด YOLOv11 ได้รับการฝึกบนชุดข้อมูลภาพใบหน้าที่มีความหลากหลาย โดยประกอบด้วยทรงคิ้วหลากหลายรูปแบบ(เช่นคิ้วโค้ง,คิ้วแบน, คิ้วหนา,คิ้วบาง) ซึ่งรวบรวมและจัดหมวดหมู่ในขั้นตอนการเตรียมข้อมูล
          * การแยกส่วนคิ้ว (Instance Segmentation)
     YOLOv11 ใช้ความสามารถ Instance Segmentation เพื่อสร้าง mask ที่ปกคลุมบริเวณคิ้วทั้งสองข้างได้อย่างแม่นยำ Mask นี้ช่วยแยกคิ้วออกจากส่วนอื่น ๆ ของใบหน้า เช่น ผิวหนัง ดวงตา หรือหน้าผาก และสามารถใช้ในการลบคิ้วเดิมออกจากภาพโดยใช้เทคนิค Inpainting เพื่อเติมเต็มบริเวณที่ลบด้วยผิวที่ดูเป็นธรรมชาติ
          * กระบวนการฝึกโมเดล
        โมเดล YOLOv11 ได้รับการฝึกโดยใช้ชุดข้อมูลที่ผ่านการทำ Data Augmentation (เช่น การหมุนภาพ,การปรับแสง และการครอบตัด) เพื่อเพิ่มความหลากหลายและความทนทานต่อสภาวะภาพที่แตกต่างกันการฝึกใช้ PyTorch บนสภาพแวดล้อม Google Colab ซึ่งมี GPU สำหรับการประมวลผลที่มีประสิทธิภาพ
    * การประเมินผลความแม่นยำของ YOLOv11 ในการตรวจจับและแยกส่วนคิ้วได้รับการประเมินโดยใช้ตัวชี้วัดมาตรฐานได้แก่: 
      o Precision: วัดความแม่นยำของการตรวจจับคิ้วที่ถูกต้อง
      o Recall: วัดความครอบคลุมของการตรวจจับคิ้วทั้งหมดในภาพ
      o F1-score: วัดความสมดุลระหว่าง Precision และ Recall
      o Mean Average Precision (mAP): วัดประสิทธิภาพของ Instance Segmentation โดยคำนึงถึงความแม่นยำของ mask
     2.2 การจำแนกประเภทรูปทรงใบหน้าด้วย EfficientViT-B1
* การเตรียมโมเดล การใช้แบบจำลองEfficientVIT-B1
        โครงงานใช้ EfficientViT-B1 ซึ่งเป็นโมเดล Vision Transformer ที่ออกแบบมาให้มีประสิทธิภาพสูงและใช้ทรัพยากรน้อย เพื่อจำแนกประเภทรูปทรงใบหน้า (Overall Face Shape Category) จากภาพใบหน้าที่ผู้ใช้อัปโหลด รูปทรงใบหน้าที่จำแนกได้แก่รูปไข่,รูปกลม,รูปเหลี่ยม,รูปยาวและรูปหัวใจ
        * การเตรียมโมเดล
     EfficientViT-B1 เริ่มต้นจากโมเดลที่ผ่านการฝึกมาแล้ว (Pre-trained Model) บนชุดข้อมูลขนาดใหญ่ เช่น ImageNet และได้รับการปรับละเอียด (Fine-tuning) ด้วยชุดข้อมูลรูปทรงใบหน้าที่จัดเตรียมไว้สำหรับโครงงาน ชุดข้อมูลนี้ประกอบด้วยภาพใบหน้าที่มีป้ายกำกับ (Label) ตามรูปทรงใบหน้า และผ่านการทำ Data Augmentation เพื่อเพิ่มความหลากหลาย
        * กระบวนการทำงาน
     EfficientViT-B1 ใช้กลไก Cascaded Group Attention และ Overlap Patch Embedding เพื่อวิเคราะห์ลักษณะเด่นทั่วทั้งใบหน้า เช่น ความกว้างของขากรรไกร, ความยาวของใบหน้า, และความโค้งของโหนกแก้ม จากนั้นให้ผลลัพธ์เป็นป้ายกำกับรูปทรงใบหน้า เช่น “Oval” หรือ “Round”
        * ผลลัพธ์
        ป้ายกำกับของประเภทรูปทรงใบหน้าที่ถูกจำแนก ซึ่งจะถูกใช้เป็นอินพุตสำหรับ Rule-based System ในการแนะนำทรงคิ้วที่เหมาะสม
        * การประเมินผล
        ความแม่นยำของ EfficientViT-B1 ในการจำแนกประเภทรูปทรงใบหน้าได้รับการประเมินโดยใช้ตัวชี้วัดสำหรับงาน Classificationได้แก่: 
Accuracy: วัดเปอร์เซ็นต์ของการจำแนกที่ถูกต้อง
Precision, Recall, และ F1-score: วัดความแม่นยำและความครอบคลุมในแต่ละคลาสของรูปทรงใบหน้า
Confusion Matrix: วิเคราะห์ข้อผิดพลาดในการจำแนกแต่ละคลาส
     2.3 การวิเคราะห์โครงสร้างและสัดส่วนใบหน้าด้วย Mediapipe Face Mesh
        * การใช้ Mediapipe Face Mesh
        โครงงานใช้ Mediapipe Face Mesh ซึ่งเป็นไลบรารีที่พัฒนาโดย Google เพื่อตรวจจับจุด Landmark มากกว่า 400 จุดบนใบหน้า ครอบคลุมส่วนต่าง ๆ เช่นดวงตา,จมูก,ปาก, ขากรรไกร, และหน้าผาก
        * การหาตำแหน่งอ้างอิง
        ข้อมูล Landmark จาก Mediapipe ถูกใช้เพื่อกำหนดพิกัดที่แม่นยำของส่วนที่เกี่ยวข้องกับการออกแบบทรงคิ้วเช่น: 
           o จุดเริ่มต้น,จุดสูงสุด,และจุดสิ้นสุดของคิ้ว
           o ระยะห่างระหว่างดวงตา
           o ความกว้างของหน้าผาก
           o ความโค้งของแนวกรามพิกัดเหล่านี้ช่วยให้ระบบสามารถวางตำแหน่งคิ้วใหม่ได้อย่างถูกต้องและสมดุลกับโครงหน้า
        * การวิเคราะห์สัดส่วนและรายละเอียด
        ข้อมูล Landmark ถูกนำไปวิเคราะห์สัดส่วนเชิงลึกของใบหน้าเช่น: 
           o อัตราส่วนระหว่างความกว้างของใบหน้าและระยะห่างระหว่างดวงตา
           o ความสูงของหน้าผากเทียบกับความยาวของใบหน้า
           o ความสมดุลของโหนกแก้มและขากรรไกร
        ข้อมูลเหล่านี้ช่วยเสริมผลลัพธ์จาก EfficientViT-B1 ทำให้การแนะนำทรงคิ้วมีความเฉพาะเจาะจงและเหมาะสมกับโครงหน้าของผู้ใช้มากยิ่งขึ้น
     2.4 การสร้างทรงคิ้วใหม่ด้วย Stable Diffusion 2 Inpainting
        * การใช้ Stable Diffusion 2 Inpainting
        โครงงานนี้ใช้ Stable Diffusion 2 Inpainting ซึ่งเป็นโมเดล Generative AI ที่โฮสต์บนแพลตฟอร์ม Hugging Face Transformers เพื่อสร้างทรงคิ้วใหม่ที่สมจริง โดยโมเดลนี้ได้รับการฝึกให้สามารถเติมเต็มส่วนของภาพที่กำหนดด้วย mask ตามคำอธิบายใน prompt
        * กระบวนการทำงาน
        โมเดลรับอินพุตสามส่วน ได้แก่
            o ภาพใบหน้าที่ลบคิ้วเดิมออกแล้ว (จาก YOLOv11)
       o Mask คิ้วใหม่ ที่กำหนดตำแหน่งจาก Mediapipe Face Mesh
       o Prompt ที่ระบุลักษณะทรงคิ้ว เช่น “eyebrow, medium arch, thick, dark brown” ซึ่งอิงจากคำแนะนำของ Rule-based System Stable Diffusion สร้างทรงคิ้วใหม่ที่สมจริงและวางในตำแหน่งที่กำหนด โดยรักษาความกลมกลืนกับผิวหน้าและแสงในภาพ
        * การเตรียมโมเดล
        ใช้โมเดล Stable Diffusion 2 Inpainting ที่ผ่านการฝึกมาแล้ว และปรับแต่งเพิ่มเติมด้วยชุดข้อมูลภาพคิ้วที่หลากหลาย ดำเนินการบน Google Colab โดยใช้ PyTorch
     2.5 การถ่ายโอนการแต่งหน้าด้วย CSD-MIT
        * การใช้ CSD-MIT
        โครงงานใช้ CSD-MIT (Content-Style Decoupling Makeup Transfer) ซึ่งเป็นโมเดลที่ออกแบบมาเพื่อถ่ายโอนสไตล์การแต่งหน้า เช่น ลิปสติก,อายแชโดว์,และบลัชออน จากภาพ reference ไปยังภาพใบหน้าที่มีคิ้วใหม่ โดยใช้เทคนิค unsupervised learning เพื่อรักษาโครงสร้างใบหน้าเดิม
        * กระบวนการทำงาน
     CSD-MIT รับอินพุตสองส่วน ได้แก่
            o ภาพใบหน้าที่มีทรงคิ้วใหม่ (จาก Stable Diffusion 2 Inpainting)
            o ภาพ reference ที่แสดงสไตล์การแต่งหน้าที่ต้องการ
โมเดลแยก content (โครงสร้างใบหน้า) และ style (ลักษณะการแต่งหน้า) ออกจากกัน และถ่ายโอนสไตล์การแต่งหน้าไปยังภาพใบหน้า โดยรักษาความสมจริงและความกลมกลืน
        * การเตรียมโมเดล
     CSD-MIT ใช้โมเดลที่ผ่านการฝึกมาแล้ว และอาจได้รับการปรับละเอียดด้วยชุดข้อมูลภาพใบหน้าที่มีการแต่งหน้าในสไตล์ต่าง ๆ เพื่อให้เหมาะสมกับความหลากหลายของผู้ใช้ การฝึกดำเนินการบน Google Colab โดยใช้ PyTorch
        * การประเมินผล
        ประสิทธิภาพของ CSD-MIT ได้รับการประเมินโดย: 
       o SSIM: วัดความคล้ายคลึงระหว่างภาพใบหน้าก่อนและหลังการแต่งหน้า เพื่อให้แน่ใจว่าโครงสร้างใบหน้าไม่เปลี่ยนแปลง
       o Fr?chet Inception Distance (FID): วัดความสมจริงของภาพที่แต่งหน้าเมื่อเทียบกับภาพ reference
   3. การออกแบบและพัฒนา Web Application (Web Development)
     เมื่อระบบ AI มีความแม่นยำและสามารถให้คำแนะนำได้แล้ว ขั้นตอนสุดท้ายคือการออกแบบ Web Application ให้สามารถรองรับการใช้งานจริง โดยมีการดำเนินงาน ดังนี้
     3.1 ออกแบบโครงสร้างระบบ (System Architecture)
        * กำหนดสถาปัตยกรรมของระบบที่เชื่อมต่อAI Model, Backend และFrontend
        * สร้าง API เพื่อให้สามารถรับ-ส่งข้อมูลระหว่างแบบจำลอง AI และ Web Application
      3.2 พัฒนาส่วนติดต่อผู้ใช้ผู้ใช้งาน (User Interface)
        * ออกแบบ UI ให้ใช้งานง่าย และรองรับภาษาไทย
        * สร้างฟังก์ชันให้ผู้ใช้สามารถ อัปโหลดภาพใบหน้า และทดลองทรงคิ้วแบบเสมือนจริง
     3.3 ทดสอบการทำงานของ Web Application
        * ตรวจสอบว่าเว็บไซต์สามารถทำงานร่วมกับแบบจำลอง AI ได้อย่างลื่นไหล
        * ทดสอบประสิทธิภาพของหน้าเว็บให้รองรับการใช้งานบนอุปกรณ์หลากหลายประเภท
     จากขั้นตอนที่กล่าวมาข้างต้น สามารถแสดงแผนปฏิบัติงานโครงงานโดยแบ่งออกเป็นงานย่อยต่าง ๆ วันเริ่มต้นงาน วันสิ้นสุดงาน รวมถึงงานที่ต้องทำก่อนหน้า ดังแสดงระยะเวลาดำเนินการในรูปแบบ Gantt Chart ดังรูปที่ 1.1
รูปที่ 1.1 ขั้นตอนการดำเนินงานและระยะเวลาดำเนินการ (Gantt Chart)

1.5 ประโยชน์ที่คาดว่าจะได้รับ
        เมื่อโครงงาน Deep Brow: AI-based Eyebrow Recommendation พัฒนาสำเร็จ จะ
        สร้างประโยชน์ให้กับหลายภาคส่วน ทั้งในแง่ของผู้ใช้งานทั่วไป ธุรกิจด้านความงาม และวงการเทคโนโลยี โดยประโยชน์ที่คาดว่าจะได้รับ มีดังนี้
    1. ช่วยให้ผู้ใช้สามารถเลือกทรงคิ้วที่เหมาะสมกับโครงหน้าของตนเองได้ง่ายขึ้น
    2.ลดความผิดพลาดที่เกิดจากการกันคิ้วหรือสักคิ้วผิดรูป
    3.เพิ่มความสะดวกในการปรับแต่งทรงคิ้ว
  4.ช่วยเลือกสไตล์แต่งให้เหมาะสมกับโอกาส

1.6 คำนิยามศัพท์เฉพาะ 
    เพื่อให้ผู้อ่านเข้าใจโครงงาน Deep Brow: AI-based Eyebrow Recommendation ได้อย่างชัดเจนและมีเอกภาพ จึงได้กำหนดนิยามศัพท์เฉพาะที่ใช้ในโครงงาน ดังนี้
  1. Virtual Try-on: การทดลองสไตล์หรือผลิตภัณฑ์เสมือนจริงบนภาพถ่ายผู้ใช้
  2. YOLOv11 Instance Segmentation: เทคโนโลยีสำหรับตรวจจับและแยกวัตถุเฉพาะในภาพ เช่น ทรงคิ้ว
  3. EfficientViT-B1: โมเดล Vision Transformer สำหรับจำแนกรูปทรงใบหน้าอย่างแม่นยำ
  4. Mediapipe Face Mesh: เครื่องมือสำหรับตรวจจับจุด Landmark บนใบหน้า
  5. Stable Diffusion 2 Inpainting: เทคโนโลยีการเติมภาพเพื่อสร้างทรงคิ้วใหม่ที่กลมกลืนกับใบหน้า
  6. CSD-MIT: โมเดลถ่ายโอนสไตล์การแต่งหน้าอย่างสมจริง

บทที่ 2
ระบบงานปัจจุบัน
	เนื้อหาในบทนี้กล่าวถึงการศึกษาวิเคราะห์ระบบงานปัจจุบันและงานวิจัยที่เกี่ยวข้อง เพื่อหาจุดบกพร่องที่เกิดขึ้น โดยเริ่มจากการวิเคราะห์หาจุดบกพร่องของระบบงานและงานวิจัยที่เกี่ยวข้องที่มีอยู่ในปัจจุบัน และเมื่อทราบถึงปัญหาแล้วจึงนำข้อมูลที่ได้มาเป็นแนวทางในการพัฒนาระบบงานใหม่ เพื่อแก้ไขปัญหา ตลอดจนเพิ่มประสิทธิภาพ  การทำงานให้ดียิ่งขึ้น ซึ่งมีรายละเอียดดังต่อไปนี้
2.1 วิเคราะห์ระบบและงานวิจัยที่เกี่ยวข้อง
        ในยุคที่ความงามและการดูแลภาพลักษณ์กลายเป็นส่วนสำคัญของวิถีชีวิต อุตสาหกรรมความงามได้พัฒนาไปอย่างรวดเร็ว โดยเฉพาะการเลือกทรงคิ้วที่เหมาะสม ซึ่งมีบทบาทสำคัญในการเสริมความสมดุลของใบหน้าและเพิ่มความมั่นใจให้กับบุคคล อย่างไรก็ตาม การเลือกทรงคิ้วที่เหมาะสมกับรูปทรงใบหน้ายังคงเป็นกระบวนการที่ต้องพึ่งพาทักษะของช่างแต่งหน้ามืออาชีพเป็นหลัก ซึ่งมักมีค่าใช้จ่ายสูงและใช้เวลานาน ในช่วงไม่กี่ปีที่ผ่านมา มีการพัฒนาซอฟต์แวร์และแอปพลิเคชันที่ช่วยให้ผู้ใช้สามารถทดลองเลือกทรงคิ้วด้วยตนเองได้ เช่น การใช้เทมเพลตทรงคิ้วสำเร็จรูปหรือการเพิ่มเอฟเฟกต์ลงบนภาพถ่าย อย่างไรก็ตาม ระบบเหล่านี้มีข้อจำกัดที่สำคัญในหลายด้าน โดยเฉพาะความสามารถในการวิเคราะห์โครงหน้าและให้คำแนะนำที่เหมาะสมโดยอัตโนมัติ ซึ่งมักขาดความแม่นยำและประสิทธิภาพเพียงพอที่จะตอบสนองความต้องการของผู้ใช้อย่างครบถ้วน ส่งผลให้ผู้ใช้ต้องเผชิญกับความยุ่งยาก เช่น การลองผิดลองถูกกับทรงคิ้วหลายรูปแบบ หรือการปรับแต่งด้วยตนเองซ้ำ ๆ เพื่อให้ได้ผลลัพธ์ที่ใกล้เคียงกับความต้องการ กระบวนการเหล่านี้ไม่เพียงแต่เสียเวลา แต่ยังอาจสร้างความรู้สึกไม่มั่นใจ โดยเฉพาะสำหรับผู้ที่ไม่มีประสบการณ์ด้านการแต่งหน้า
        ระบบที่มีอยู่ในปัจจุบัน เช่น แอปพลิเคชันแต่งหน้าบนสมาร์ตโฟน ส่วนใหญ่เน้นการเพิ่มเอฟเฟกต์ทรงคิ้วเพื่อความสวยงามในเชิงภาพลักษณ์มากกว่าการคำนึงถึงความเหมาะสมกับโครงหน้าจริงของผู้ใช้ ตัวอย่างเช่น แอปพลิเคชันบางตัวอนุญาตให้ผู้ใช้เลือกทรงคิ้วจากเทมเพลตและวางลงบนภาพถ่าย แต่ไม่สามารถวิเคราะห์ลักษณะเฉพาะของใบหน้า เช่น ความกว้างของหน้าผาก ระยะห่างระหว่างดวงตา หรือความโค้งของขากรรไกร เพื่อให้คำแนะนำที่เป็นธรรมชาติและเหมาะสม ผลลัพธ์ที่ได้มักดูไม่กลมกลืนกับใบหน้า และผู้ใช้ต้องใช้ความพยายามเพิ่มเติมในการปรับแต่ง ซึ่งอาจนำไปสู่ความไม่พึงพอใจ นอกจากนี้ ระบบเหล่านี้มักขาดการบูรณาการเทคโนโลยีขั้นสูง เช่น การวิเคราะห์สัดส่วนใบหน้าหรือการจำลองภาพที่มีความสมจริงสูง ทำให้ไม่สามารถตอบโจทย์ความต้องการของผู้บริโภคยุคใหม่ที่ต้องการโซลูชันที่สะดวก รวดเร็ว และเฉพาะบุคคล
        เพื่อแก้ไขข้อจำกัดดังกล่าว งานวิจัยและเทคโนโลยีใหม่ ๆ ได้ถูกพัฒนาขึ้น โดยเฉพาะการนำ Deep Learning และ Computer Vision มาใช้ในการวิเคราะห์ใบหน้าและแนะนำทรงคิ้ว งานวิจัยหลายชิ้นได้แสดงให้เห็นถึงศักยภาพของเทคโนโลยีเหล่านี้ ตัวอย่างเช่น งานวิจัยของ Zhang et al. (2022)[7] ได้นำเสนอการใช้ Mediapipe Face Mesh ซึ่งเป็นเครื่องมือที่สามารถตรวจจับจุด Landmark มากกว่า 400 จุดบนใบหน้า เพื่อสร้างแบบจำลองสามมิติของใบหน้าและระบุโครงสร้างได้อย่างละเอียด งานวิจัยนี้แสดงให้เห็นว่า Mediapipe สามารถแยกตำแหน่งคิ้วออกจากส่วนอื่น ๆ เช่น ดวงตาและหน้าผาก ได้อย่างแม่นยำ ซึ่งเป็นพื้นฐานสำคัญสำหรับการพัฒนาระบบแนะนำทรงคิ้ว อย่างไรก็ตาม งานวิจัยนี้ยังคงมุ่งเน้นการตรวจจับโครงหน้าและไม่ได้พัฒนาต่อไปสู่การให้คำแนะนำทรงคิ้วที่เหมาะสม ซึ่งเป็นช่องว่างที่โครงงาน Deep Brow มุ่งเติมเต็ม
        ในด้านการจำลองภาพ งานวิจัยของ Kim et al. (2021)[2] ได้สำรวจการใช้ Generative Adversarial Networks (GANs) เพื่อสร้างภาพจำลองการแต่งหน้าและทรงคิ้วแบบเสมือนจริง งานวิจัยนี้แสดงให้เห็นว่า GANs สามารถสร้างภาพที่มีความสมจริงสูง ช่วยให้ผู้ใช้เห็นตัวอย่างทรงคิ้วและการแต่งหน้าบนใบหน้าของตนเองได้ อย่างไรก็ตาม ระบบนี้มีข้อจำกัดในแง่ของการประมวลผลแบบเรียลไทม์ ซึ่งยังไม่ราบรื่น และต้องใช้ชุดข้อมูลขนาดใหญ่ในการฝึกโมเดล ซึ่งอาจเป็นอุปสรรคสำหรับการใช้งานในแอปพลิเคชันที่ต้องการความรวดเร็วและการเข้าถึงที่ง่าย โครงงาน Deep Brow จึงเลือกใช้ Stable Diffusion 2 Inpainting ซึ่งเป็นโมเดล Generative AI ที่พัฒนาต่อจากแนวคิดของ GANs แต่มีประสิทธิภาพสูงกว่าในการสร้างทรงคิ้วใหม่โดยใช้ prompt และ mask และสามารถทำงานได้รวดเร็วกว่าในสภาพแวดล้อมที่มีทรัพยากรจำกัด
        นอกจากนี้ งานวิจัยของ Pasupa et al. (2019)[3] ในหัวข้อ “A hybrid approach to building face shape classifier for hairstyle recommender system” ได้นำเสนอการใช้เทคนิค Machine Learning เพื่อจำแนกรูปทรงใบหน้า เช่น รูปไข่,รูปกลม,รูปเหลี่ยม,รูปหัวใจ และรูปยาว โดยใช้การวิเคราะห์จุด Landmark ร่วมกับการประมวลผลข้อมูลเชิงลึก งานวิจัยนี้ประสบความสำเร็จในการจำแนกรูปทรงใบหน้าด้วยความแม่นยำ 85-90% และแสดงให้เห็นว่าเทคโนโลยีนี้สามารถนำไปประยุกต์ใช้ในการแนะนำสิ่งที่เหมาะสมกับใบหน้า เช่น ทรงผมหรือทรงคิ้ว แนวคิดนี้ถูกนำมาใช้ในโครงงาน Deep Brow โดยใช้ EfficientViT-B1 ซึ่งเป็นโมเดล Vision Transformer ที่มีประสิทธิภาพสูงในการจำแนกรูปทรงใบหน้า และสามารถประมวลผลได้อย่างรวดเร็ว เหมาะสำหรับการใช้งานในแอปพลิเคชันจริง
        งานวิจัยของ Zhao et al. (2019)[8] ในหัวข้อ “Data-driven research on the matching degree of eyes, eyebrows and face shapes” ได้ให้ข้อมูลเชิงลึกเกี่ยวกับความสัมพันธ์ระหว่างรูปทรงใบหน้า ดวงตา และทรงคิ้ว โดยใช้ชุดข้อมูลภาพใบหน้าจำนวนมากและวิเคราะห์ด้วยวิธี Machine Learning ผลการวิจัยพบว่า ทรงคิ้วที่เหมาะสม เช่น คิ้วโค้งปานกลางสำหรับใบหน้ารูปไข่ หรือคิ้วแบนราบสำหรับใบหน้ายาว มีความสัมพันธ์อย่างมีนัยสำคัญกับสัดส่วนของใบหน้าและดวงตา ข้อมูลนี้ถูกนำมาใช้เป็นพื้นฐานในการพัฒนา Rule-based System ของโครงงาน Deep Brow ซึ่งกำหนดกฎเกณฑ์สำหรับการแนะนำทรงคิ้วโดยอิงจากรูปทรงใบหน้าที่จำแนกโดย EfficientViT-B1 และสัดส่วนใบหน้าจาก Mediapipe Face Mesh
        อีกหนึ่งงานวิจัยที่เกี่ยวข้องคือ Lee et al. (2020)[3] ในหัวข้อ “Facial landmark detection and shape analysis for cosmetic surgery planning” ซึ่งใช้ Computer Vision เพื่อตรวจจับจุด Landmark และวิเคราะห์สัดส่วนใบหน้า เช่น ความสมมาตร ความกว้างของโหนกแก้ม และความโค้งของกราม เพื่อวางแผนศัลยกรรมความงาม งานวิจัยนี้แสดงให้เห็นว่าระบบสามารถระบุลักษณะใบหน้าได้อย่างแม่นยำและช่วยออกแบบการปรับแต่งที่เหมาะสม เทคนิคนี้ถูกนำมาใช้ในโครงงาน Deep Brow โดยใช้ Mediapipe Face Mesh เพื่อตรวจจับจุด Landmark และวิเคราะห์สัดส่วนใบหน้า เช่น ระยะห่างระหว่างดวงตาและความสูงของหน้าผาก เพื่อกำหนดตำแหน่งคิ้วใหม่ที่สมดุลและเหมาะสม
        สำหรับการจำแนกรูปทรงใบหน้า งานวิจัยของ Han et al. (2023)[1] ในหัวข้อ “EfficientViT: Memory Efficient Vision Transformer with Cascaded Group Attention” (CVPR 2023) ได้นำเสนอ EfficientViT-B1 ซึ่งเป็นโมเดล Vision Transformer ที่ออกแบบมาให้ใช้ทรัพยากรน้อยและมีประสิทธิภาพสูง โมเดลนี้มี Top-1 Accuracy 81.9% บนชุดข้อมูล ImageNet-1K ด้วย FLOPs เพียง 3.8G ซึ่งเหนือกว่าโมเดล CNN แบบดั้งเดิมในแง่ของความเร็วและความแม่นยำ EfficientViT-B1 เหมาะสำหรับงานที่ต้องการการประมวลผลภาพแบบเรียลไทม์ เช่น การจำแนกรูปทรงใบหน้าในโครงงาน Deep Brow โดยสามารถวิเคราะห์ลักษณะใบหน้า เช่น ความกว้างของขากรรไกรหรือความยาวของใบหน้า ได้อย่างรวดเร็วและแม่นยำ
        ในด้านการถ่ายโอนการแต่งหน้า งานวิจัยของ Li et al. (2023)[4] ในหัวข้อ “CSD-MIT: Content-Style Decoupling for Unsupervised Makeup Transfer” ได้นำเสนอโมเดล CSD-MIT ซึ่งใช้เทคนิค unsupervised learning เพื่อแยก content (โครงสร้างใบหน้า) และ style (สไตล์การแต่งหน้า) ออกจากกัน และถ่ายโอนการแต่งหน้า เช่น ลิปสติกและอายแชโดว์ จากภาพ reference ไปยังภาพเป้าหมาย โมเดลนี้มีความสมจริงสูงและสามารถรักษาโครงสร้างใบหน้าเดิมได้ ซึ่งถูกนำมาใช้ในโครงงาน Deep Brow เพื่อจำลองการแต่งหน้าที่เหมาะสมกับทรงคิ้วที่แนะนำ
        สำหรับการพัฒนา Web Application งานวิจัยและแนวปฏิบัติในวงการพัฒนาซอฟต์แวร์ เช่น บทความจาก “Developing a Single Page App with FastAPI and React” (2023) ได้แสดงให้เห็นว่า FastAPI ซึ่งเป็นเฟรมเวิร์ก Python ที่มีประสิทธิภาพสูง สามารถจัดการ API สำหรับการประมวลผลภาพและการเรียกใช้โมเดล AI ได้อย่างรวดเร็ว FastAPI รองรับการทำงานแบบ asynchronous ทำให้เหมาะสำหรับการจัดการคำขอจากผู้ใช้จำนวนมาก เช่น การอัปโหลดภาพใบหน้าและการรับผลลัพธ์ทรงคิ้ว ในขณะที่ React ซึ่งเป็นไลบรารี JavaScript ช่วยสร้างส่วนติดต่อผู้ใช้ (UI) ที่ตอบสนองรวดเร็วและใช้งานง่าย React ถูกใช้ในโครงงานนี้เพื่อพัฒนา Single Page Application (SPA) ที่ให้ผู้ใช้สามารถอัปโหลดภาพ ดูผลลัพธ์ทรงคิ้วและการแต่งหน้า และปรับแต่งสไตล์ได้แบบเรียลไทม์ การผสาน FastAPI และ React ช่วยให้ระบบ Deep Brow มีประสิทธิภาพทั้งในด้าน Backend และ Frontend
        เมื่อเปรียบเทียบกับระบบที่มีอยู่ในปัจจุบัน โครงงาน Deep Brow มีจุดเด่นที่การบูรณาการเทคโนโลยีหลากหลายเข้าด้วยกันอย่างลงตัว ตั้งแต่การตรวจจับคิ้วด้วย YOLOv11 Instance Segmentation การจำแนกรูปทรงใบหน้าด้วย EfficientViT-B1 การวิเคราะห์สัดส่วนใบหน้าด้วย Mediapipe Face Mesh การแนะนำทรงคิ้วด้วย Rule-based System การสร้างทรงคิ้วใหม่ด้วย Stable Diffusion 2 Inpainting และการถ่ายโอนการแต่งหน้าด้วย CSD-MIT ระบบนี้ทำงานผ่าน Web Application ที่พัฒนาด้วย FastAPI และ React ทำให้สามารถตอบโจทย์ความต้องการของผู้ใช้ทั้งในแง่ความสะดวก ความแม่นยำ และความสมจริง
        ระบบที่มีอยู่ในปัจจุบันมักเน้นเพียงด้านใดด้านหนึ่ง เช่น การตรวจจับใบหน้าหรือการจำลองภาพ แต่ขาดการบูรณาการทุกขั้นตอนตั้งแต่การวิเคราะห์ไปจนถึงการแนะนำและจำลองผลลัพธ์ โครงงาน Deep Brow จึงมุ่งพัฒนาระบบที่ครบวงจร โดยใช้ Machine Learning และ Deep Learning เพื่อให้ทำงานอัตโนมัติและแม่นยำ การคำนึงถึงปัจจัยต่าง ๆ เช่น รูปทรงใบหน้า (เช่น รูปไข่,รูปกลม,รูปเหลี่ยม) สัดส่วนใบหน้า (เช่น ความกว้างของคิ้วเทียบกับระยะห่างของดวงตา) และความชอบส่วนบุคคล ทำให้ระบบสามารถให้คำแนะนำที่เหมาะสมและสอดคล้องกับรสนิยมของผู้ใช้ ตัวอย่างเช่น ผู้ที่มีใบหน้ายาวอาจได้รับคำแนะนำให้ใช้คิ้วแบนราบเพื่อลดความรู้สึกของความยาว ในขณะที่ผู้ที่มีใบหน้ากลมอาจเหมาะกับคิ้วโค้งสูงเพื่อเพิ่มความสมดุล
        การพัฒนาระบบนี้ไม่เพียงช่วยลดความยุ่งยากและเวลาในการเลือกทรงคิ้ว แต่ยังยกระดับประสบการณ์ผู้ใช้โดยให้ความมั่นใจในการตัดสินใจ ด้วยการจำลองผลลัพธ์ที่สมจริงและการให้คำแนะนำที่เฉพาะเจาะจง โครงงาน Deep Brow จึงเป็นนวัตกรรมที่ตอบโจทย์ความต้องการของผู้บริโภคยุคใหม่ และมีศักยภาพในการเปลี่ยนแปลงวิธีที่ผู้คนเข้าถึงบริการด้านความงามในอนาคต

2.2 ปัญหาระบบงานปัจจุบัน
        ในปัจจุบัน การเลือกทรงคิ้วที่เหมาะสมกับรูปทรงใบหน้ายังคงเป็นกระบวนการที่ต้องพึ่งพาทักษะและความเชี่ยวชาญของช่างแต่งหน้ามืออาชีพเป็นหลัก หรือในบางกรณีอาจใช้ซอฟต์แวร์และแอปพลิเคชันที่พัฒนาขึ้นเพื่อให้ผู้ใช้งานสามารถทดลองเลือกทรงคิ้วด้วยตนเองได้ อย่างไรก็ตาม การศึกษาระบบงานปัจจุบันและงานวิจัยที่เกี่ยวข้องเผยให้เห็นปัญหาหลายประการที่ยังคงเป็นอุปสรรคต่อการใช้งานอย่างมีประสิทธิภาพ ซึ่งสามารถสรุปปัญหาของระบบงานปัจจุบันได้ดังรายละเอียดต่อไปนี้:
1) ความไม่แม่นยำในการวิเคราะห์รูปทรงใบหน้า
    ระบบงานปัจจุบัน โดยเฉพาะซอฟต์แวร์และแอปพลิเคชันที่มีอยู่ในท้องตลาด มักขาดความสามารถในการวิเคราะห์รูปทรงใบหน้าได้อย่างแม่นยำและครอบคลุม ตัวอย่างเช่น แอปพลิเคชันบางตัวอนุญาตให้ผู้ใช้เลือกทรงคิ้วจากเทมเพลตสำเร็จรูปและวางลงบนภาพถ่ายได้ แต่ไม่สามารถวิเคราะห์ลักษณะเฉพาะของใบหน้า เช่น รูปทรงใบหน้า (เช่น ทรงกลม ทรงรี ทรงเหลี่ยม) ความกว้างของหน้าผาก ระยะห่างระหว่างดวงตา หรือความโค้งของกราม เพื่อให้คำแนะนำที่เหมาะสมและดูเป็นธรรมชาติได้ สิ่งนี้ทำให้ผลลัพธ์ที่ได้อาจไม่สอดคล้องกับรูปทรงใบหน้าจริงของผู้ใช้ เช่น ทรงคิ้วที่แนะนำอาจดูไม่กลมกลืนหรือไม่ช่วยเสริมจุดเด่นของใบหน้า

2)  ข้อจำกัดในด้านประสิทธิภาพและการใช้งานจริง
   ระบบงานปัจจุบันยังมีข้อจำกัดในด้านประสิทธิภาพ โดยเฉพาะการประมวลผลแบบเรียลไทม์ที่ยังไม่สามารถทำได้อย่างราบรื่น งานวิจัย เช่น ของ Kim et al. (2021)[2] ที่ใช้ GANs สำหรับการจำลองทรงคิ้ว แสดงให้เห็นว่า แม้เทคโนโลยีนี้สามารถสร้างภาพที่มีความสมจริงสูง แต่ก็ยังต้องใช้ชุดข้อมูลขนาดใหญ่เพื่อฝึกแบบจำลองและทรัพยากรคอมพิวเตอร์ที่มีประสิทธิภาพสูง ซึ่งอาจเป็นอุปสรรคสำหรับผู้ใช้ทั่วไปที่ต้องการระบบที่ใช้งานง่ายและรวดเร็ว โดยไม่ต้องพึ่งพาเครื่องมือหรือทรัพยากรที่ซับซ้อน นอกจากนี้ ระบบบางตัวยังขาดการบูรณาการเทคโนโลยีที่หลากหลายเข้าด้วยกัน ทำให้ไม่สามารถทำงานได้อย่างครบวงจรในขั้นตอนเดียว
  
2.3 แนวทางการพัฒนาระบบใหม่
        ในปัจจุบัน การเลือกทรงคิ้วที่เหมาะสมกับรูปทรงใบหน้ายังคงพบปัญหาหลายประการ เช่น ความไม่แม่นยำในการวิเคราะห์ใบหน้า การเน้นความสวยงามมากกว่าความเหมาะสม และกระบวนการที่ใช้เวลาและยุ่งยาก	โดยเฉพาะสำหรับผู้ใช้ที่ไม่มีประสบการณ์ด้านการแต่งหน้า เพื่อแก้ไขปัญหาเหล่านี้ โครงการ Deep Brow: AI-based Eyebrow Recommendation ได้พัฒนาแนวทางการสร้างระบบใหม่ที่บูรณาการเทคโนโลยีขั้นสูงเพื่อให้การแนะนำทรงคิ้วมีประสิทธิภาพและตอบโจทย์ผู้ใช้มากขึ้น ดังนี้
1)  การออกแบบระบบใหม่เพื่อแก้ปัญหา
    แนวทางการพัฒนาระบบใหม่มุ่งเน้นการใช้เทคโนโลยี AI และ Computer Vision เพื่อวิเคราะห์รูปทรงใบหน้าและให้คำแนะนำทรงคิ้วที่เหมาะสม โดยระบบจะทำงานผ่านขั้นตอนหลักดังนี้:
     * ผู้ใช้อัปโหลดรูปภาพใบหน้าผ่านส่วนติดต่อผู้ใช้หน้าเว็บที่พัฒนาด้วย React
     * รูปภาพถูกส่งไปยัง Fast API ซึ่งทำหน้าที่เป็นหลังบ้านเพื่อประมวลผล
     * ระบบใช้แบบจำลอง AI เช่น EfficientViT สำหรับจำแนกรูปทรงใบหน้า และ Mediapipe Face Mesh สำหรับตรวจจับจุด Landmark บนใบหน้า เช่น ความโค้งของขอบใบหน้า ระยะห่างระหว่างดวงตา และความสูงของหน้าผาก
     * ใช้ YOLOv11 สำหรับการตรวจจับและแยกตำแหน่งคิ้วออกจากส่วนอื่น ๆ ของใบหน้า
     * ระบบใช้ Generative Adversarial Networks (GANs) เพื่อสร้างภาพจำลองทรงคิ้วที่แนะนำบนใบหน้าของผู้ใช้
     * แสดงผลลัพธ์ผ่านหน้าเว็บ React ให้ผู้ใช้เห็นภาพทรงคิ้วที่แนะนำและสามารถเลือกตามความชอบ
2)  การวิเคราะห์ใบหน้าแบบละเอียด
     เพื่อเพิ่มความแม่นยำในการวิเคราะห์ใบหน้า ระบบใหม่จะใช้เทคโนโลยีขั้นสูงในการตรวจจับและวิเคราะห์รูปทรงใบหน้า โดย
   * EfficientViT: แบบจำลอง Vision Transformer ที่ออกแบบมาเพื่อจำแนกรูปทรงใบหน้า เช่น รูปไข่,รูปกลม,รูปเหลี่ยม,รูปหัวใจ และรูปยาว ซึ่งงานวิจัยของ Han et al. (2023)[1]แสดงให้เห็นว่า EfficientViT-B1 มีความแม่นยำสูงถึง 81.9% (Top-1 Accuracy บน ImageNet-1K) ด้วย FLOPs เพียง 3.8G ซึ่งเหนือกว่าโมเดล CNN แบบดั้งเดิมในแง่ประสิทธิภาพและความแม่นยำ เหมาะสำหรับงานที่ต้องการการประมวลผลภาพใบหน้าแบบเรียลไทม์
   * Mediapipe Face Mesh: เครื่องมือที่ตรวจจับจุด Landmark บนใบหน้าได้มากกว่า 400 จุด ช่วยวิเคราะห์ลักษณะเฉพาะ เช่น ความโค้งของกราม ความกว้างของหน้าผาก และระยะห่างระหว่างดวงตา ซึ่งช่วยให้ระบบเข้าใจรูปทรงใบหน้าได้ละเอียดยิ่งขึ้น
   * YOLOv11: ใช้สำหรับการตรวจจับและแยกตำแหน่งคิ้วออกจากส่วนอื่น ๆ ของใบหน้า เพื่อให้แน่ใจว่าการวิเคราะห์และการจำลองทรงคิ้วจะแม่นยำ
3)  การพัฒนาอัลกอริทึมแนะนำทรงคิ้ว
     ระบบใหม่จะพัฒนาอัลกอริทึมที่ใช้ข้อมูลจากการวิเคราะห์ใบหน้าเพื่อแนะนำทรงคิ้วที่เหมาะสม โดย
     * อ้างอิงจากงานวิจัย เช่น Zhao et al. (2019)[8] พบว่าทรงคิ้วที่เหมาะสมมีความสัมพันธ์กับสัดส่วนของดวงตาและรูปทรงใบหน้า เช่น ผู้ที่มีใบหน้ารูปไข่และดวงตาขนาดปานกลางเหมาะกับคิ้วโค้งปานกลาง
     * ใช้แบบจำลอง Machine Learning ที่ฝึกจากชุดข้อมูลที่มีใบหน้าและทรงคิ้วที่เหมาะสม เพื่อทำนายทรงคิ้วที่เหมาะสมตามลักษณะใบหน้า
     * อัลกอริทึมสามารถให้คำแนะนำหลายแบบตามสไตล์ที่แตกต่างกัน เช่น ธรรมชาติ ดราม่า หรือตามวัฒนธรรม เพื่อให้ผู้ใช้เลือกตามความชอบส่วนบุคคล
     * ระบบยังสามารถให้คำอธิบายเหตุผล เช่น “ใบหน้าของคุณเป็นรูปยาว เหมาะกับคิ้วแบนราบเพื่อเพิ่มความสมดุล” เพื่อเพิ่มความมั่นใจให้ผู้ใช้
4) การสร้างภาพจำลองแบบสมจริง
     * การใช้ Stable Diffusion 2 Inpainting สำหรับการสร้างทรงคิ้ว ระบบใช้ Stable Diffusion 2 Inpainting ซึ่งเป็นโมเดล Generative AI ที่พัฒนาต่อจากแนวคิดของ Generative Adversarial Networks (GANs) เพื่อสร้างทรงคิ้วใหม่ที่สมจริง โมเดลนี้รับอินพุตสามส่วนหลัก: 
     o ภาพใบหน้าที่ลบคิ้วเดิมออกแล้ว: ได้จากการประมวลผลด้วย YOLOv11 Instance Segmentation ซึ่งตรวจจับและลบคิ้วเดิมโดยใช้เทคนิค Inpainting เพื่อเติมเต็มบริเวณที่ลบด้วยผิวที่ดูเป็นธรรมชาติ
   o Mask คิ้วใหม่: สร้างจากข้อมูลตำแหน่ง Landmark ที่ได้จาก Mediapipe Face Mesh ซึ่งระบุตำแหน่งที่เหมาะสมสำหรับวางคิ้วใหม่บนใบหน้า
   o Prompt ที่ระบุลักษณะทรงคิ้ว: อ้างอิงจากคำแนะนำของ Rule-based System ซึ่งพิจารณารูปทรงใบหน้าจาก EfficientViT-B1 และสัดส่วนใบหน้าจาก Mediapipe เช่น “eyebrow, medium arch, thick, dark brown” Stable Diffusion 2 Inpainting สร้างทรงคิ้วใหม่ที่สมจริงและกลมกลืนกับใบหน้า โดยรักษาความสอดคล้องกับแสงและพื้นผิวของภาพ งานวิจัยของ Rombach et al. (2022)[6] แสดงให้เห็นว่า Stable Diffusion มีความสามารถในการสร้างภาพที่มีความสมจริงสูงและเหมาะสำหรับงาน Inpainting ซึ่งช่วยให้โครงงานนี้สามารถจำลองทรงคิ้วได้อย่างมีประสิทธิภาพ
     * การใช้ CSD-MIT สำหรับการถ่ายโอนการแต่งหน้าเพื่อเพิ่มความสมบูรณ์ให้กับภาพจำลอง ระบบใช้ CSD-MIT ซึ่งเป็นโมเดลที่ออกแบบมาเพื่อถ่ายโอนสไตล์การแต่งหน้าเช่น ลิปสติก, อายแชโดว์,และบลัชออน จากภาพ reference ไปยังภาพใบหน้าที่มีทรงคิ้วใหม่ โมเดลนี้ใช้เทคนิค unsupervised learning เพื่อแยก content (โครงสร้างใบหน้า) และ style (ลักษณะการแต่งหน้า) ออกจากกัน ทำให้สามารถถ่ายโอนการแต่งหน้าได้โดยไม่เปลี่ยนแปลงโครงสร้างใบหน้าเดิม CSD-MIT รับอินพุตสองส่วน: 
     o ภาพใบหน้าที่มีทรงคิ้วใหม่จาก Stable Diffusion 2 Inpainting
     o ภาพ reference ที่แสดงสไตล์การแต่งหน้าที่ผู้ใช้ต้องการงานวิจัยของ Li et al. (2023)[4] ในหัวข้อ “CSD-MIT: Content-Style Decoupling for Unsupervised Makeup Transfer” แสดงให้เห็นว่า CSD-MIT สามารถสร้างภาพการแต่งหน้าที่สมจริงและเหมาะสมกับบริบทของใบหน้า ซึ่งช่วยให้ผู้ใช้สามารถทดลองลุคที่หลากหลายได้อย่างง่ายดาย
5)  การพัฒนาส่วนติดต่อผู้ใช้และประสิทธิภาพ
   * Frontend (React): พัฒนาหน้าเว็บที่ใช้งานง่าย ผู้ใช้สามารถอัปโหลดรูปภาพ เลือกตัวเลือกการปรับแต่ง และเห็นผลลัพธ์ทันที มีตัวอย่างการใช้งานในโปรเจ็กต์เช่น Developing a Single Page App with FastAPI and React
   * Backend (Fast API): ใช้ Fast API สำหรับสร้าง API หลังบ้านที่มีประสิทธิภาพสูง ช่วยจัดการการประมวลผลภาพและการเรียกใช้แบบจำลอง AI เช่น EfficientViT โดยสามารถจัดการหลายผู้ใช้พร้อมกันได้
     * ประสิทธิภาพแบบเรียลไทม์: ระบบออกแบบให้ทำงานแบบเรียลไทม์หรือใกล้เคียง โดยไม่ต้องใช้ทรัพยากรคอมพิวเตอร์สูงมาก ซึ่งช่วยให้ผู้ใช้ทั่วไปเข้าถึงได้ง่าย
   จากการศึกษาและวิเคราะห์ระบบงานปัจจุบันและงานวิจัยที่เกี่ยวข้อง ผู้พัฒนาจึงได้ทราบถึงปัญหาที่เกิดขึ้นและเกิดแนวทางในการแก้ไขปัญหา ผู้พัฒนาจึงได้ทำการศึกษาทฤษฎี เครื่องมือและเทคโนโลยีที่เกี่ยวข้อง สถาปัตยกรรมระบบ การวิเคราะห์และออกแบบระบบ และการออกแบบการทดลองและการวัดประเมินผล เพื่อนำไปพัฒนาระบบงานใหม่ต่อไป โดยเนื้อหาดังกล่าวนี้จะกล่าวถึงในบทถัดไป

บทที่ 3
ทฤษฎี เครื่องมือที่ใช้ และออกแบบระบบ
        โครงงาน Deep Brow: AI-based Eyebrow Recommendation เป็นระบบที่พัฒนาขึ้นโดยใช้เทคโนโลยี AI และ Computer Vision เพื่อให้คำแนะนำเกี่ยวกับทรงคิ้วที่เหมาะสมกับใบหน้าของผู้ใช้ โดยอาศัยการประมวลผลภาพและการเรียนรู้ของเครื่อง (Machine Learning) เพื่อสร้างแบบจำลองที่สามารถตรวจจับโครงสร้างของใบหน้า และแนะนำทรงคิ้วที่เข้ากับลักษณะของใบหน้าแต่ละประเภท
        เพื่อให้การพัฒนาระบบเป็นไปอย่างมีประสิทธิภาพ ผู้พัฒนาได้ทำการศึกษาทฤษฎี เครื่องมือ และเทคโนโลยีที่เกี่ยวข้อง รวมถึงการออกแบบระบบให้สามารถรองรับการใช้งานจริง ซึ่งมีรายละเอียดดังต่อไปนี้
     
3.1 ทฤษฎีที่ใช้ในการพัฒนา
        การพัฒนาระบบนี้อาศัยหลักการจากหลายสาขาวิชา ทั้งด้าน ปัญญาประดิษฐ์ (Artificial Intelligence: AI),การประมวลผลภาพ (Image Processing),การเรียนรู้เชิงลึก (Deep Learning), และการออกแบบระบบเชิงสถาปัตยกรรม (System Architecture) โดยสามารถสรุปทฤษฎีที่เกี่ยวข้องได้ดังนี้
1)  การเรียนรู้เชิงลึก (Deep Learning) 
   การเรียนรู้เชิงลึกเป็นสาขาย่อยของการเรียนรู้ของเครื่อง (Machine Learning) ที่ใช้โครงข่ายประสาทเทียม (Artificial Neural Network - ANN) ซึ่งมีโครงสร้างซับซ้อนและเลียนแบบการทำงานของสมองมนุษย์ในการเรียนรู้และประมวลผลข้อมูล โดยเฉพาะอย่างยิ่งกับข้อมูลที่ไม่มีโครงสร้างชัดเจน เช่น ข้อมูลภาพ ในงานที่เกี่ยวกับภาพ สถาปัตยกรรมที่นิยมใช้ใน Deep Learning คือ Convolutional Neural Networks (CNNs) ซึ่งใช้ Convolutional Layers ในการสกัดลักษณะเด่น (Feature Extraction) และ Pooling Layers ในการลดมิติของข้อมูลเพื่อเพิ่มประสิทธิภาพ อย่างไรก็ตาม Deep Learning ยังครอบคลุมถึงสถาปัตยกรรมอื่นๆ เช่น Transformers ซึ่งถูกนำมาประยุกต์ใช้กับงานด้านภาพเช่นกัน โครงงานนี้ได้นำหลักการ Deep Learning มาใช้ในการพัฒนาแบบจำลองสำหรับงานหลายส่วน ทั้งการตรวจจับวัตถุ (Object Detection), การจำแนกประเภท (Classification), และการสร้างภาพ (Image Generation)
  

  
  
  
  
2)  การประมวลผลภาพ (Image Processing)
    การประมวลผลภาพเป็นเทคนิคสำคัญในการจัดการและปรับปรุงข้อมูลภาพดิจิทัล เพื่อเตรียมความพร้อมสำหรับขั้นตอนการวิเคราะห์ด้วย AI หรือเพื่อปรับปรุงผลลัพธ์การแสดงผล ในโครงงานนี้ เทคนิคการประมวลผลภาพถูกนำมาใช้ในหลายขั้นตอน เช่น
    * การปรับแต่งและปรับสเกลของภาพ (Image Adjustment and Scaling): ใช้ไลบรารีเช่น OpenCV ในการปรับขนาดภาพ, ปรับแก้ความสว่าง/ความคมชัด, หรือลดสัญญาณรบกวน เพื่อให้ภาพมีคุณภาพเหมาะสมและเป็นมาตรฐานเดียวกันสำหรับการป้อนเข้าสู่แบบจำลอง AI
    * การแบ่งส่วนภาพ (Image Segmentation): ใช้เทคนิค Instance Segmentation เพื่อระบุและแยกขอบเขตของวัตถุที่สนใจ (ในที่นี้คือ ทรงคิ้ว) ออกจากส่วนอื่นๆ ของภาพได้อย่างแม่นยำ ซึ่งจำเป็นสำหรับการลบคิ้วเดิมและเติมคิ้วใหม่แบบเสมือนจริง

    3)  การตรวจจับจุด Landmark และวิเคราะห์โครงสร้างใบหน้า (Facial Landmark Detection and Structure Analysis) 
    การทำความเข้าใจโครงสร้างและสัดส่วนของใบหน้าเป็นสิ่งจำเป็นสำหรับการแนะนำทรงคิ้วที่เหมาะสม เทคนิคที่ใช้คือ
  * Mediapipe Face Mesh: เป็นเครื่องมือที่สามารถตรวจจับ จุด Landmark ที่มีความละเอียดสูงบนใบหน้า (มากกว่า 468 จุด) ได้อย่างรวดเร็วและแม่นยำ ข้อมูลตำแหน่งของ Landmark เหล่านี้ (เช่นตำแหน่งดวงตา,โหนกแก้ม,แนวกราม,ขอบคิ้ว) จะถูกนำมาใช้วิเคราะห์สัดส่วนและโครงสร้างเฉพาะของใบหน้าผู้ใช้
    * การวิเคราะห์ความสมมาตรของใบหน้า (Facial Symmetry Analysis): อาจใช้ข้อมูล Landmark ในการประเมินความสมมาตรของใบหน้า ซึ่งเป็นอีกปัจจัยหนึ่งที่สามารถนำมาพิจารณาในการออกแบบทรงคิ้วเพื่อสร้างความสมดุลให้กับใบหน้า

  4) การตรวจจับและแยกทรงคิ้ว (Eyebrow Detection and Segmentation)
    ส่วนนี้เป็นขั้นตอนสำคัญในการระบุตำแหน่งและขอบเขตของคิ้วเดิมบนใบหน้าผู้ใช้ เพื่อเตรียมพื้นที่สำหรับการแสดงผลคิ้วเสมือนจริง
   * YOLOv11 Instance Segmentation: ใช้แบบจำลอง Deep Learning ประเภท Object Detection ที่มีความสามารถด้าน Instance Segmentation เพื่อตรวจจับและสร้าง Mask ปกคลุมบริเวณทรงคิ้วแต่ละข้างโดยอัตโนมัติจากภาพใบหน้า
     * การสร้าง Mask และการเติมภาพ (Masking & Inpainting): Mask ที่ได้จาก YOLOv11 จะถูกใช้เพื่อกำหนดขอบเขตของคิ้วที่จะลบ จากนั้นอาจใช้เทคนิค Inpainting เพื่อเติมเต็มบริเวณที่คิ้วถูกลบออกไปให้ดูเป็นธรรมชาติใกล้เคียงกับผิวหนังบริเวณรอบๆ
   5)  การสร้างและแนะนำทรงคิ้วด้วยปัญญาประดิษฐ์ (AI-based Recommendation and Generation) หลังจากวิเคราะห์ลักษณะใบหน้าแล้ว ระบบจะใช้ AI ในการสร้างคำแนะนำและแสดงผลทรงคิ้ว
   * Generative Adversarial Networks (GANs) หรือ Generative Models อื่นๆ: อาจใช้เทคนิค GANs หรือแบบจำลอง Generative อื่นๆ ในการสร้างภาพทรงคิ้วเสมือนจริง หรือจำลองการแต่งหน้าในรูปแบบต่างๆ ให้สอดคล้องกับลักษณะใบหน้าและทรงคิ้วที่แนะนำ เพื่อให้ผู้ใช้เห็นภาพผลลัพธ์ (Virtual Try-on)
     * ระบบแนะนำ (Recommendation System): พัฒนาอัลกอริทึมที่ใช้ข้อมูลจากการวิเคราะห์ใบหน้า (ประเภทรูปทรงใบหน้าจาก EfficientViT-B1,ข้อมูล Landmark และสัดส่วนจาก Mediapipe) มาประมวลผลร่วมกับฐานข้อมูลทรงคิ้ว หรือกฎเกณฑ์การออกแบบคิ้ว เพื่อสร้างคำแนะนำทรงคิ้วที่เหมาะสมกับผู้ใช้แต่ละราย (Personalized Recommendation) โดยอาจใช้เทคนิค Machine Learning หรือ Rule-based System
  6)  Vision Transformers (ViT) และ EfficientViT-B1 Vision Transformer (ViT) 
    เป็นสถาปัตยกรรมโครงข่ายประสาทเทียมอีกประเภทหนึ่งที่ได้รับความนิยมอย่างสูงในงานด้าน Computer Vision โดยเป็นการนำสถาปัตยกรรม Transformer ซึ่งเดิมประสบความสำเร็จอย่างมากในงานประมวลผลภาษาธรรมชาติ (Natural Language Processing - NLP) มาประยุกต์ใช้กับข้อมูลภาพ หลักการสำคัญของ ViT คือการแบ่งภาพต้นฉบับ ออกเป็นส่วนย่อยๆ ที่มีขนาดเท่ากัน เรียกว่า "แพตช์" (Patches) จากนั้นแต่ละแพตช์จะถูกแปลงให้อยู่ในรูปแบบเวกเตอร์ (Vector Embedding) และป้อนเข้าสู่กลไก Transformer Encoder ซึ่งมีหัวใจหลักคือ Multi-Head Self-Attention กลไกนี้ช่วยให้โมเดลสามารถเรียนรู้และให้น้ำหนักความสำคัญกับความสัมพันธ์ระหว่างแพตช์ต่างๆ ทั่วทั้งภาพได้ ทำให้สามารถจับลักษณะเด่น (Features) และบริบทของภาพในมุมมองที่กว้างกว่า Convolutional Neural Networks (CNNs) แบบดั้งเดิมได้ตั้งแต่ชั้นแรกๆ สำหรับโครงงานนี้ ได้เลือกใช้ EfficientViT-B1 ซึ่งเป็นหนึ่งในโมเดลตระกูล Vision Transformer ที่ถูกพัฒนาขึ้นโดยมุ่งเน้น ประสิทธิภาพ (Efficiency) ทั้งในแง่ของความเร็วในการประมวลผลและขนาดของโมเดล โดยยังคงความสามารถในการเรียนรู้และจำแนกภาพได้ดี โมเดล EfficientViT-B1 จะถูกนำมาใช้ในส่วนของการ จำแนกประเภทรูปทรงใบหน้า (Face Shape Classification) ซึ่งเป็นข้อมูลสำคัญสำหรับการสร้างคำแนะนำทรงคิ้วที่เหมาะสมต่อไป
3.2 เครื่องมือและเทคโนโลยีที่เกี่ยวข้อง
        ความสำเร็จของโครงงาน "Deep Brow: AI-based Eyebrow Recommendation" ต้องอาศัยการเลือกใช้และบูรณาการเครื่องมือและเทคโนโลยีที่เหมาะสมอย่างพิถีพิถันในทุกขั้นตอน ตั้งแต่การวิจัยและพัฒนาแบบจำลองปัญญาประดิษฐ์ การจัดการและประมวลผลข้อมูลภาพ การสร้างส่วนติดต่อผู้ใช้ที่ตอบสนองและใช้งานง่าย ไปจนถึงการทดสอบและปรับปรุงประสิทธิภาพของระบบโดยรวม เทคโนโลยีและเครื่องมือหลักที่ถูกนำมาใช้ในโครงงานนี้ สามารถอธิบายโดยละเอียดได้ดังต่อไปนี้:
     3.2.1 ภาษา Python
        แกนหลักของการพัฒนา ภาษา Python ได้รับเลือกให้เป็นภาษาโปรแกรมหลักในการพัฒนาโครงงานนี้ ด้วยเหตุผลหลายประการ ประการแรก Python มี Ecosystem ที่สมบูรณ์และแข็งแกร่งอย่างยิ่งสำหรับงานด้านวิทยาศาสตร์ข้อมูล (DataScience), การเรียนรู้ของเครื่อง (Machine Learning), และปัญญาประดิษฐ์ (Artificial Intelligence) โดยมีไลบรารี (Library) และเฟรมเวิร์ก(Framework) คุณภาพสูงให้เลือกใช้อย่างหลากหลาย ซึ่งช่วยลดระยะเวลาและความซับซ้อนในการพัฒนาได้อย่างมาก ประการที่สอง โครงสร้างภาษา (Syntax) ของ Python นั้นอ่านง่ายและเข้าใจง่าย ส่งเสริมให้การเขียนโค้ด การดีบัก และการบำรุงรักษาทำได้สะดวกขึ้น ประการสุดท้าย Python เป็นภาษาที่มีความยืดหยุ่นสูง สามารถทำหน้าที่เป็นทั้งภาษาสำหรับเขียนสคริปต์จัดการข้อมูล, พัฒนา Backend API
        ในโครงงาน Deep Brow นี้ Python ทำหน้าที่เป็นศูนย์กลางในการเชื่อมโยงองค์ประกอบต่างๆ เข้าด้วยกัน ตั้งแต่การเรียกใช้ไลบรารีประมวลผลภาพ (OpenCV, NumPy) เพื่อจัดการข้อมูลภาพใบหน้า, การเรียกใช้เฟรมเวิร์ก Deep Learning (PyTorch/TensorFlow) เพื่อประมวลผลแบบจำลอง AI (EfficientViT-B1, YOLOv11, GANs), ไปจนถึงการพัฒนา Backend API ด้วยเฟรมเวิร์ก FastAPI เพื่อให้บริการแก่ส่วน Frontend ทำให้ Python เป็นเครื่องมือสำคัญที่ขาดไม่ได้ในการขับเคลื่อนระบบทั้งหมด
  3.2.2 เฟรมเวิร์กและไลบรารีด้าน AI/ML 
    หัวใจของความอัจฉริยะ ส่วนสำคัญที่สุดที่ทำให้ระบบสามารถแนะนำทรงคิ้วได้อย่างชาญฉลาดคือแบบจำลอง AI ซึ่งพัฒนาและใช้งานผ่านเฟรมเวิร์กและไลบรารีดังนี้
   * TensorFlowและPyTorch:เปรียบเสมือนเครื่องมือพื้นฐานชิ้นสำคัญสำหรับการสร้างและฝึกสอนโครงข่ายประสาทเทียมเชิงลึก (Deep Neural Networks) ทั้งสองเฟรมเวิร์กนี้มีเครื่องมือสนับสนุนครบครัน ตั้งแต่การจัดการ Tensor,การคำนวณอนุพันธ์อัตโนมัติ (Automatic Differentiation) สำหรับกระบวนการ Backpropagation,การรองรับการประมวลผลด้วย GPU เพื่อเร่งความเร็วในการฝึกสอน, ไปจนถึงชุมชนผู้ใช้ขนาดใหญ่และโมเดลสำเร็จรูป (Pre-trained Models) จำนวนมาก การเลือกใช้เฟรมเวิร์กใดเฟรมเวิร์กหนึ่ง (หรือทั้งสอง) ขึ้นอยู่กับความพร้อมของโมเดลที่ต้องการใช้ หรือความถนัดของนักพัฒนา ในโครงงานนี้ เฟรมเวิร์กเหล่านี้ถูกใช้เป็นฐานในการพัฒนาหรือปรับละเอียดโมเดลหลักทั้งหมด
   * EfficientViT-B1 (ผ่าน timm หรือ transformers): สำหรับการจำแนกประเภทรูปทรงใบหน้า โครงงานได้เลือกใช้ EfficientViT-B1 ซึ่งเป็นสถาปัตยกรรม Vision Transformer ที่เน้นประสิทธิภาพ การนำโมเดลนี้มาใช้งานมักทำผ่านไลบรารีตัวช่วย เช่น timm (PyTorch Image Models) หรือ transformers จาก Hugging Face ซึ่งช่วยให้การโหลดโมเดล Pre-trained และการนำไป Fine-tune บนชุดข้อมูลรูปทรงใบหน้าเฉพาะของโครงงานทำได้สะดวกยิ่งขึ้น การเลือกใช้ EfficientViT-B1 มีเป้าหมายเพื่อให้ได้ความแม่นยำในการจำแนกสูง ควบคู่ไปกับการใช้ทรัพยากรประมวลผลที่ไม่มากเกินไป
   * YOLOv11 Instance Segmentation: การระบุตำแหน่งและขอบเขตของคิ้วเดิมได้อย่างแม่นยำเป็นสิ่งจำเป็นสำหรับการลบและแทนที่ด้วยคิ้วเสมือนจริง โครงงานนี้ใช้ YOLOv11 ซึ่งเป็นโมเดล Object Detection ที่มีความสามารถด้าน Instance Segmentation ช่วยให้สามารถตรวจจับ (Detect) และวาดเส้นแบ่งส่วน (Segment) รอบทรงคิ้วแต่ละข้างได้อย่างละเอียด ผลลัพธ์ที่ได้คือ Mask ที่สามารถนำไปใช้ในขั้นตอนการประมวลผลภาพต่อไป
   * Mediapipe Face Mesh: เพื่อให้เข้าใจโครงสร้างใบหน้าอย่างละเอียดมากกว่าแค่ประเภทโดยรวม Mediapipe Face Mesh ถูกนำมาใช้ในการตรวจจับจุด Landmark มากกว่า 400 จุดบนใบหน้าแบบเรียลไทม์ ข้อมูลตำแหน่งพิกัดของจุดเหล่านี้ (เช่น บริเวณรอบดวงตา, หน้าผาก,โหนกแก้ม, แนวกราม) มีความสำคัญอย่างยิ่งในการวิเคราะห์สัดส่วนใบหน้า(เช่น ระยะห่างระหว่างดวงตา,ความสูงหน้าผาก),ความสมมาตร,และใช้เป็นจุดอ้างอิงในการวางตำแหน่งทรงคิ้วเสมือนจริงให้ดูเป็นธรรมชาติและเหมาะสมกับโครงสร้างใบหน้าของผู้ใช้แต่ละคน
   * Generative Adversarial Networks (GANs) หรือ Generative Models อื่นๆ: เพื่อให้ผู้ใช้เห็นภาพผลลัพธ์ของการแนะนำทรงคิ้ว ระบบจำเป็นต้องสร้างภาพทรงคิ้วเสมือนจริงขึ้นมา เทคนิค GANs (เช่น StyleGAN, BeautyGAN) หรือโมเดล Generative อื่นๆ มีความสามารถในการสังเคราะห์ภาพ (Image Synthesis) ที่มีความสมจริงสูง ในโครงงานนี้ เทคโนโลยีดังกล่าวจะถูกนำมาใช้เพื่อสร้างภาพคิ้วใหม่ตามคำแนะนำ และวางลงบนภาพใบหน้าของผู้ใช้ในบริเวณที่คิ้วเดิมถูกลบออกไป (Virtual Try-on)
  3.2.3 เครื่องมือพัฒนาเว็บแอปพลิเคชัน 
    ส่วนติดต่อกับผู้ใช้ เพื่อให้ผู้ใช้สามารถเข้าถึงและใช้งานระบบได้ง่าย โครงงานจึงพัฒนาเป็นเว็บแอปพลิเคชัน โดยใช้เครื่องมือหลักดังนี้:
  * React.js เป็นไลบรารี JavaScript ยอดนิยมสำหรับสร้างส่วนติดต่อผู้ใช้ (UI) แบบ Single Page Application (SPA) ซึ่งให้ประสบการณ์การใช้งานที่ลื่นไหลและตอบสนองรวดเร็ว React ใช้แนวคิด Component-based Architecture ทำให้สามารถสร้าง UI ที่ซับซ้อนจากส่วนประกอบย่อยๆ ที่นำกลับมาใช้ใหม่ได้ (Reusable Components) ในโครงงานนี้ React ถูกใช้สร้างหน้าเว็บทั้งหมด เช่น ส่วนอัปโหลดภาพ, ส่วนแสดงผลภาพต้นฉบับและภาพหลังการแนะนำ/ทดลองทรงคิ้ว,ส่วนควบคุมตัวเลือกต่างๆ และใช้ Virtual DOM เพื่ออัปเดตหน้าจอได้อย่างมีประสิทธิภาพเมื่อมีการเปลี่ยนแปลงเกิดขึ้น
  * FastAPI สำหรับส่วน Backend ซึ่งทำหน้าที่รับคำขอจาก Frontend, ประมวลผล (เช่น ส่งภาพไปให้โมเดล AI วิเคราะห์), และส่งผลลัพธ์กลับไป โครงงานเลือกใช้ FastAPI ซึ่งเป็น Python Web Framework ที่ทันสมัย มีจุดเด่นด้านประสิทธิภาพสูงด้วยการรองรับ Asynchronous Operations (async/await) เหมาะสำหรับ I/O-bound tasks อย่างการรอผลจากโมเดล AI หรือการสื่อสารกับฐานข้อมูล (หากมี) นอกจากนี้ยังมีระบบ Data Validation อัตโนมัติด้วย Pydantic ช่วยให้มั่นใจในข้อมูลที่รับส่ง และระบบสร้างเอกสาร API อัตโนมัติ (Swagger UI, ReDoc) ที่ช่วยอำนวยความสะดวกในการพัฒนาและทดสอบ API อย่างมาก
  3.2.4 เครื่องมือสนับสนุนการพัฒนา 
    นอกเหนือจากไลบรารีและเฟรมเวิร์กหลักแล้ว ยังมีเครื่องมืออื่นๆ ที่ช่วยสนับสนุนกระบวนการพัฒนาให้ราบรื่นและมีประสิทธิภาพยิ่งขึ้น
  * Visual Studio Code (VS Code): เป็นIntegrated Development Environment (IDE) ที่นักพัฒนาเลือกใช้ มีความสามารถหลากหลาย รองรับภาษา Python และ JavaScript ได้เป็นอย่างดี มีส่วนขยาย (Extensions) มากมายที่ช่วยในการเขียนโค้ด (เช่น IntelliSense, Syntax Highlighting), การดีบัก (Debugging Tools), การจัดการ Git (Version Control Integration), และการเชื่อมต่อกับเครื่องมืออื่นๆ มี Integrated Terminal ในตัว ทำให้สามารถรันคำสั่งต่างๆ ได้โดยไม่ต้องออกจากโปรแกรม
  * Google Colaboratory โครงงานเรื่องนี้ใช้ Google Colaboratory ในการเขียนโค้ด เนื่องจาก Google Colaboratory หรือ Colab เป็นบริการคลาวด์จาก Google Research เป็น IDE ที่อนุญาตให้ผู้ใช้เขียนซอร์สโค้ดในตัวแก้ไขและเรียกใช้จากบราวเซอร์ รองรับภาษาการเขียนโปรแกรม Python และการทำ Machine Learning รวมถึงการวิเคราะห์ข้อมูล นอกจากนี้ Google Colab ยังมีความสามารถในการแชร์โค้ด (Jupyter Notebook) ร่วมกับผู้ใช้งานอื่น ๆ ซึ่งทำให้ผู้ใช้งานสามารถทำงานร่วมกันและแก้ปัญหาต่าง ๆ ได้อย่างรวดเร็ว นอกจากนี้ยังสามารถส่งลิงก์ (link) ของสมุดบันทึกไปยังผู้อื่นได้ เพื่อให้ผู้อื่นสามารถดูโค้ดและผลลัพธ์การทดสอบได้ โดยการใช้ Google Colab ในการเขียนโปรแกรมจะทำให้การทำงานสะดวกขึ้นและสามารถแชร์กับผู้อื่นได้อย่างอิสระ
  * Postman: เป็นเครื่องมือที่ใช้สำหรับทดสอบ Backend API โดยเฉพาะ ช่วยให้นักพัฒนาสามารถส่ง HTTP Requests (GET, POST, PUT, DELETE) ไปยัง Endpoints ของ FastAPI ได้โดยตรง พร้อมกำหนดค่า Parameters, Headers, และ Body ได้ตามต้องการ และตรวจสอบ Response ที่ได้รับกลับมา เพื่อให้มั่นใจว่า API ทำงานถูกต้องตามที่ออกแบบไว้ ก่อนที่จะนำไปเชื่อมต่อกับ Frontend จริง
  * Git / GitHub: เป็นระบบควบคุมเวอร์ชัน (Version Control System - VCS) ที่จำเป็นอย่างยิ่งในการพัฒนาซอฟต์แวร์ ช่วยในการติดตามการเปลี่ยนแปลงของโค้ด, ย้อนกลับไปยังเวอร์ชันก่อนหน้าได้, ทำงานบน Feature Branch แยกกันเพื่อไม่ให้กระทบส่วนอื่น,และรวมโค้ด (Merge)กลับเข้าด้วยกันเมื่อพัฒนาเสร็จ GitHub เป็นแพลตฟอร์มที่ให้บริการ Git Hosting และเครื่องมือสำหรับการทำงานร่วมกัน (Collaboration)ซึ่งช่วยให้การจัดการโปรเจกต์และการทำงานเป็นทีม (หากมี) มีประสิทธิภาพ

3.3 สถาปัตยกรรมระบบ (System Architecture)



รูปที่ 3.1 ภาพแสดงสถาปัตยกรรม Yolo V11

        รูปที่ 3.1 แสดงสถาปัตยกรรมของ YOLOv11 ซึ่งถูกนำมาใช้ในโครงการ Deep Brow เพื่อทำการตรวจจับคิ้วโดยอัตโนมัติ ระบบใช้ Instance Segmentation เพื่อระบุขอบเขตของคิ้วอย่างแม่นยำ จากนั้นจะสร้างมาสก์เพื่อลบคิ้วออกจากภาพโดยไม่กระทบกับผิวหนังหรือส่วนอื่นของใบหน้า กระบวนการนี้เน้น ความรวดเร็วและคุณภาพสูง เพื่อให้ได้ผลลัพธ์ที่เนียนตาและตอบสนองต่อการใช้งานจริงในด้านการแต่งรูปและการวิเคราะห์ใบหน้า โดยสถาปัตยกรรมของ YOLOv11 ถูกแบ่งออกเป็น 3 ส่วนหลัก
  1. Backbone (สีเขียว) - ใช้ในการดึงฟีเจอร์จากภาพต้นฉบับ
  2. Neck (สีม่วง) - ช่วยรวมฟีเจอร์ต่าง ๆ เพื่อเพิ่มประสิทธิภาพในการตรวจจับ
  3. Head (สีแดง) - ทำหน้าที่ตรวจจับวัตถุ (คิ้ว) และกำหนดขอบเขตของคิ้วที่ต้องการประมวลผล
    การใช้ YOLOv11 Instance Segmentation ทำให้สามารถระบุคิ้วได้อย่างแม่นยำ และสามารถนำไปใช้ในการลบหรือปรับแต่งคิ้วในงาน Digital Image Processing และ Computer Vision ได้อย่างมีประสิทธิภาพ


รูปที่ 3.2 ภาพแสดงสถาปัตยกรรม EfficientViT

  (a) โครงสร้างหลัก (Overall Architecture):
1. Input: รับภาพสีต้นฉบับขนาด H x W x 3 (สูง x กว้าง x 3 ช่องสี RGB).
2. Overlap PatchEmbed: ขั้นตอนแรกคือการแบ่งภาพออกเป็นส่วนย่อยๆ ที่อาจซ้อนทับกัน (Overlapping Patches) และแปลงแต่ละ Patch ให้อยู่ในรูปแบบของเวกเตอร์ (Patch Embedding) เพื่อเตรียมป้อนเข้าสู่ Transformer.
3. Stages (Stage 1, 2, 3): ข้อมูลที่ได้จะถูกส่งผ่านหลายขั้นตอน (Stages) ซึ่งแต่ละ Stage ประกอบด้วย: 
* EfficientViT Block:เป็นบล็อกการประมวลผลหลักที่ทำการคำนวณที่ซับซ้อน โดยมีการทำงานซ้ำ L ครั้ง (L1, L2, L3 ในแต่ละ Stage). ภายในบล็อกนี้มีกลไกสำคัญคือ Cascaded Group Attention (ดังแสดงในส่วน b)
* EfficientViT Subsample: เป็นชั้นที่ทำหน้าที่ลดขนาดเชิงพื้นที่ (Spatial Dimension) ของข้อมูลลง (จาก H/16, W/16 ไปเป็น H/32, W/32 และ H/64, W/64) และอาจเพิ่มมิติของช่องสัญญาณ (Channels - C1, C2, C3) คล้ายกับการทำงานของ Pooling Layer ใน CNNs เพื่อให้โมเดลเรียนรู้ลักษณะเด่นในระดับต่างๆ และควบคุมภาระการคำนวณ
4. AvgPool + Classifier: หลังจากผ่าน Stage สุดท้าย ลักษณะเด่น (Features) ที่ได้จะถูกนำมาสรุปรวบยอด (เช่น ด้วย Average Pooling) และส่งต่อไปยังชั้นจำแนกประเภท (Classifier) เพื่อทำนายผลลัพธ์สุดท้าย (ในกรณีของโครงงานนี้คือ ประเภทของรูปทรงใบหน้า).
  (b) รายละเอียดภายใน EfficientViT Block: แสดงองค์ประกอบภายใน EfficientViT Block ซึ่งมีการทำงานซ้ำ N ครั้ง ประกอบด้วย
* Token Interaction: กลไกที่ช่วยให้ข้อมูลระหว่าง Token (หรือ Patch Embedding) สามารถมีปฏิสัมพันธ์กันได้
* Cascaded Group Attention: เป็นหัวใจสำคัญที่ช่วยเพิ่มประสิทธิภาพ โดยเป็นรูปแบบหนึ่งของ Attention Mechanism ที่มีการจัดกลุ่มและประมวลผลแบบลดหลั่น (ดูรายละเอียดในส่วนc).
* Feed Forward Network: เป็นชั้นโครงข่ายประสาทเทียมแบบ Feed Forward มาตรฐานที่พบในสถาปัตยกรรม Transformer ทั่วไป ทำหน้าที่ประมวลผลข้อมูลในแต่ละToken.
  (c) รายละเอียดของ Cascaded Group Attention: ขยายความส่วนที่เป็น Cascaded Group Attention ซึ่งเป็นรูปแบบหนึ่งของ Multi-Head Self-Attention ที่มีประสิทธิภาพ:
* Input Splitting: ข้อมูล Input ถูกแบ่งออกเป็นหลายกลุ่ม (Heads)
* Per-Head Processing: แต่ละ Head จะประมวลผลกลุ่มข้อมูลของตนเองโดยอิสระ ประกอบด้วย Token Interaction และกลไก Self-Attention มาตรฐาน (คำนวณ Query (Q), Key (K), Value (V) และหาค่า Attention)
* Concat & Projection: ผลลัพธ์จากทุก Head จะถูกนำมาต่อกัน (Concatenate) และผ่านการแปลง (Projection) อีกครั้งเพื่อให้ได้ Output สุดท้ายของชั้น Attention นี้







รูปที่ 3.3 ภาพแสดงสถาปัตยกรรม Stable Diffusion Inpainting
    รูปที่ 3.3 แสดงสถาปัตยกรรมของ Stable Diffusion Inpainting ซึ่งเป็นโมเดล Generative AI ที่ใช้ในโครงงาน Deep Brow: AI-based Eyebrow Recommendation เพื่อสร้างทรงคิ้วใหม่แบบเสมือนจริงบนใบหน้าผู้ใช้ สถาปัตยกรรมนี้ประกอบด้วยส่วนประกอบหลักๆ ดังนี้:
  1. Pixel Space และ Latent Space:
ด้านซ้ายของภาพแสดงกระบวนการแปลงภาพจาก Pixel Space ไปยัง Latent Space โดยใช้ Encoder (E) และ Decoder (D) 
* Encoder (E): รับภาพใบหน้า (x) ที่ผู้ใช้อัปโหลด ซึ่งเป็นภาพใน Pixel Space และแปลงให้อยู่ใน Latent Space (z) เพื่อลดมิติข้อมูลและทำให้การประมวลผลในขั้นตอนต่อไปมีประสิทธิภาพมากขึ้น ในโครงงานนี้ ภาพใบหน้าที่ใช้คือภาพที่ผ่านการลบคิ้วเดิมออกแล้วโดย YOLOv11 Instance Segmentation และเติมเต็มด้วยเทคนิค Inpainting
* Decoder (D): แปลงข้อมูลจาก Latent Space (z) กลับไปเป็นภาพใน Pixel Space (x?) หลังจากที่โมเดลสร้างทรงคิ้วใหม่เสร็จสิ้น เพื่อให้ได้ภาพใบหน้าที่มีคิ้วใหม่สำหรับแสดงผลผ่าน Web Application
  2. Diffusion Process (Denosing U-Net ??):
	ตรงกลางของภาพแสดงกระบวนการ Diffusion Process ซึ่งใช้ Denosing U-Net (??) เพื่อสร้างภาพใน Latent Space โดยกระบวนการนี้ประกอบด้วยขั้นตอนดังนี้
* Forward Diffusion: ข้อมูลใน Latent Space (z) ถูกเพิ่ม noise ทีละขั้นตอน (denosing step) เพื่อสร้าง zT ซึ่งเป็นข้อมูลที่มี noise สูง
* Reverse Diffusion: Denosing U-Net ทำหน้าที่ลด noise ทีละขั้นตอน (จาก zT กลับไปเป็น zT-1, zT-2, ..., จนถึง z0) เพื่อสร้างข้อมูลที่มีความสมจริง โดยในแต่ละขั้นตอน โมเดลใช้ cross-attention mechanism เพื่อรวมข้อมูลจากเงื่อนไขภายนอก (conditioning)
ในโครงงาน Deep Brow ข้อมูลใน Latent Space คือภาพใบหน้าที่ลบคิ้วเดิม และกระบวนการนี้ช่วยสร้างทรงคิ้วใหม่ที่สอดคล้องกับ mask และ prompt ที่กำหนด
  3. Cross-Attention Mechanism:
	ภาพแสดงการใช้ cross-attention ใน Denosing U-Net ซึ่งประกอบด้วย Q (Query), K (Key), และ V (Value) 
* Q: มาจากข้อมูลใน Latent Space (zT-1) ที่กำลังอยู่ในขั้นตอนการลด noise
* K และ V: มาจากเงื่อนไข (conditioning) เช่น Semantic Map, Text Representations, หรือ Images ที่ระบุลักษณะทรงคิ้ว
กลไก cross-attention ช่วยให้โมเดลสามารถมุ่งเน้นไปที่ส่วนของภาพที่เกี่ยวข้องกับเงื่อนไข เช่น การสร้างคิ้วตาม prompt เช่น “eyebrow, medium arch, thick, dark brown” และวางในตำแหน่งที่กำหนดโดย mask จาก Mediapipe Face Mesh
4. Conditioning:
ด้านขวาของภาพแสดงส่วน Conditioning ซึ่งเป็นข้อมูลที่ใช้ควบคุมการสร้างภาพ ได้แก่ 
* Semantic Map: ในที่นี้คือ mask ที่ระบุตำแหน่งคิ้วใหม่ ซึ่งได้จาก Mediapipe Face Mesh
* Text Representations: Prompt ที่ระบุลักษณะทรงคิ้ว เช่น ความโค้ง ความหนา และสี ซึ่งอิงจากคำแนะนำของ Rule-based System
* Images: อาจใช้ภาพ reference เพื่อช่วยโมเดลเรียนรู้ลักษณะของคิ้วในสไตล์ที่ต้องการ
เงื่อนไขเหล่านี้ถูกส่งไปยัง Denosing U-Net ผ่าน cross-attention เพื่อให้แน่ใจว่าทรงคิ้วที่สร้างขึ้นสอดคล้องกับคำแนะนำและตำแหน่งที่กำหนด
  5. Skip Connection และ Concatenation
       ภาพแสดงการใช้ skip connection และ concatenation ใน Denosing U-Net เพื่อรักษารายละเอียดของภาพในแต่ละขั้นตอนของการลด noise 
* Skip Connection: ช่วยส่งข้อมูลจากชั้นก่อนหน้าไปยังชั้นถัดไป เพื่อรักษาคุณสมบัติของภาพ เช่น ความคมชัดของขอบคิ้ว
* Concatenation: รวมข้อมูลจากเงื่อนไข (เช่น mask และ prompt) เข้ากับข้อมูลใน Latent Space เพื่อให้โมเดลสามารถสร้างภาพที่สอดคล้องกับเงื่อนไขได้
การออกแบบนี้ช่วยให้ผลลัพธ์มีความสมจริงและกลมกลืนกับใบหน้า
  6. Switch
	ภาพแสดงส่วน switch ซึ่งอาจบ่งบอกถึงการเลือกใช้เงื่อนไขที่แตกต่างกันในแต่ละขั้นตอนของการประมวลผล เช่น การสลับระหว่างการใช้ mask หรือ prompt เพื่อปรับแต่งผลลัพธ์ให้เหมาะสมกับความต้องการของผู้ใช้


รูปที่ 3.4 ภาพแสดงสถาปัตยกรรม CSD-MIT
       รูปที่ 3.4 แสดงสถาปัตยกรรมของ CSD-MIT (Content-Style Decoupling Makeup Transfer) ซึ่งเป็นโมเดลที่ใช้ในโครงงาน Deep Brow: AI-based Eyebrow Recommendation เพื่อถ่ายโอนสไตล์การแต่งหน้า เช่น ลิปสติก,อายแชโดว์,และบลัชออน จากภาพ reference ไปยังภาพใบหน้าผู้ใช้ โดยรักษาโครงสร้างใบหน้าเดิมไว้ สถาปัตยกรรมนี้ประกอบด้วยสามส่วนหลัก ดังนี้
(a) The Framework of CSD-MIT
ส่วนนี้แสดงกรอบการทำงานโดยรวมของ CSD-MIT ซึ่งแบ่งออกเป็นสองโมดูลหลัก ได้แก่ Semantic Correspondence Module และ Makeup Rendering Module:
1. Semantic Correspondence Module
    โมดูลนี้รับภาพสองภาพเป็นอินพุต ได้แก่ ภาพใบหน้าผู้ใช้ (x) และภาพ reference (y) ซึ่งเป็นภาพที่แสดงสไตล์การแต่งหน้าที่ต้องการ 
* SPADE (Spatially-Adaptive Denormalization): ใช้ในการแยกและจับคู่คุณสมบัติเชิงความหมาย (semantic features) ระหว่างภาพ x และ y โดยคำนวณ fx (คุณสมบัติของภาพx)และfy(คุณสมบัติของภาพ y) เพื่อสร้าง semantic correspondence map (M) ซึ่งระบุความสัมพันธ์เชิงความหมายระหว่างส่วนต่าง ๆ ของใบหน้า เช่น บริเวณปาก, ดวงตา, และแก้ม
* ผลลัพธ์จากโมดูลนี้คือ M ซึ่งถูกส่งไปยัง Makeup Rendering Module เพื่อช่วยในการถ่ายโอนสไตล์การแต่งหน้าให้สอดคล้องกับโครงสร้างใบหน้าของผู้ใช้
2. Makeup Rendering Module
    โมดูลนี้รับภาพใบหน้าผู้ใช้(x),ภาพreference (y), และ semantic correspondence map (M) เพื่อถ่ายโอนสไตล์การแต่งหน้า โดยแบ่งการประมวลผลออกเป็นส่วนย่อยดังนี้: 
o High-Frequency (HF) และ Low-Frequency (LF): ภาพ x และ y ถูกแยกออกเป็นส่วนประกอบ High-Frequency (รายละเอียด เช่น ผิวและขอบ) และ Low-Frequency (สีและโทนโดยรวม) เพื่อให้โมเดลสามารถจัดการรายละเอียดและสีการแต่งหน้าแยกกัน
o Spatial Transformation (ST): ใช้ในการปรับโครงสร้างใบหน้าให้สอดคล้องกันระหว่าง x และ y เพื่อให้การถ่ายโอนการแต่งหน้าแม่นยำ เช่น การจัดตำแหน่งปากหรือดวงตาให้ตรงกัน
o Generator (Gmr): ตัวสร้างภาพ (Makeup Renderer) ที่รับข้อมูลจาก HF และ LF ของทั้งสองภาพ รวมถึง M เพื่อถ่ายโอนสไตล์การแต่งหน้า ผลลัพธ์คือภาพ x? ซึ่งเป็นภาพใบหน้าผู้ใช้ที่มีการแต่งหน้าตามสไตล์ของ y
o MT (Makeup Transfer): ขั้นตอนนี้รวมข้อมูลจาก x และ y เพื่อสร้าง y? ซึ่งเป็นภาพที่ใช้ในการฝึกโมเดล โดยเปรียบเทียบกับ y เพื่อให้แน่ใจว่าการถ่ายโอนสไตล์มีความสมจริงในโครงงาน Deep Brow ภาพ x คือภาพใบหน้าที่มีทรงคิ้วใหม่ (จาก Stable Diffusion 2 Inpainting) และ y คือภาพ reference ที่ผู้ใช้เลือกเพื่อกำหนดสไตล์การแต่งหน้า
(b) The Illustration of Self-Augmented Reconstruction
ส่วนนี้แสดงกระบวนการ Self-Augmented Reconstruction ซึ่งช่วยปรับปรุงความสมจริงของภาพที่สร้างขึ้น:
* Gmr (Generator): รับภาพ x และ y รวมถึง HF และ LF เพื่อสร้าง y?  y ?  ซึ่งเป็นภาพที่ถ่ายโอนสไตล์การแต่งหน้า
* Self-Augmented Reconstruction: กระบวนการนี้ใช้ Identity Mapping (IM) เพื่อเปรียบเทียบ y?  y ?  กับ y เดิม โดยปรับให้โมเดลเรียนรู้ที่จะรักษาคุณสมบัติของภาพต้นฉบับ เช่น โครงสร้างใบหน้าและความสมจริงของสี
* กระบวนการนี้ช่วยให้ CSD-MIT สามารถถ่ายโอนสไตล์การแต่งหน้าได้โดยไม่ทำให้ภาพเสียหายหรือเปลี่ยนแปลงโครงสร้างใบหน้า ซึ่งเป็นสิ่งสำคัญในโครงงาน Deep Brow เพื่อให้ผู้ใช้ได้รับผลลัพธ์ที่ดูเป็นธรรมชาติ
(c) The Illustration of Color Contrastive Loss
ส่วนนี้แสดงการใช้ Color Contrastive Loss เพื่อฝึกโมเดลให้ถ่ายโอนสีการแต่งหน้าได้อย่างแม่นยำ:
* Positive Sample (y+): ภาพที่มีสีการแต่งหน้าใกล้เคียงกับ y ซึ่งโมเดลควรเรียนรู้ให้ x? มีสีที่คล้ายคลึงกัน (pull)
* Negative Sample (y-): ภาพที่มีสีการแต่งหน้าแตกต่างจาก y ซึ่งโมเดลควรเรียนรู้ให้ x? แยกออกจากสีนี้ (push)
* Color Contrastive Loss: ช่วยให้โมเดลเรียนรู้การถ่ายโอนสีที่ถูกต้อง เช่น สีลิปสติกหรืออายแชโดว์โดยเปรียบเทียบความเหมือนและความแตกต่างระหว่าง x? กับ y+ และ y-ในโครงงาน Deep Brow การใช้ Color Contrastive Loss ช่วยให้การถ่ายโอนสไตล์การแต่งหน้า เช่น สีของอายแชโดว์หรือบลัชออน มีความสมจริงและสอดคล้องกับภาพ reference ที่ผู้ใช้เลือก














3.4 ผังงาน (Flowchart) 

รูปที่ 3.5 ผังงานแสดงขั้นตอนการทำงานของระบบ



จากรูปที่ 3.5 สามารถอธิบายขั้นตอนการทํางานของได้ดังนี้
1) รับข้อมูลจากผู้ใช้งาน
ระบบเริ่มต้นจากการรับข้อมูลเบื้องต้นจากผู้ใช้งาน ซึ่งประกอบด้วย
* ภาพใบหน้าของผู้ใช้งาน (Image Face)
* ประเภทหรือสไตล์คิ้วที่ต้องการ (Type Eyebrow) ซึ่งผู้ใช้งานสามารถระบุได้เองหรือเลือกให้ระบบกำหนดอัตโนมัติ (Auto)
* โอกาสหรือสถานการณ์ที่จะใช้การแต่งหน้า (Occasion Makeup) เช่น งานสัมภาษณ์ งานแต่งงาน หรืองานปาร์ตี้
2) Segment Eyebrow
ระบบจะนำภาพใบหน้าที่ได้รับจากผู้ใช้งานมาดำเนินการแยกบริเวณคิ้ว (Eyebrow Segmentation) 
3)Delete Eyebrow
หลังจากได้ตำแหน่งคิ้วแล้ว ระบบจะทำการลบคิ้วออกจากภาพใบหน้า โดยใช้ข้อมูลจากขั้นตอน Segment Eyebrow เพื่อเตรียมพื้นที่สำหรับการสร้างคิ้วใหม่ในภายหลัง
4) ตรวจสอบสไตล์คิ้วที่เลือก
ระบบจะตรวจสอบว่าผู้ใช้งานเลือกประเภทคิ้วแบบ “Auto” หรือไม่
* หาก ไม่ใช่ Auto: ระบบจะใช้สไตล์ที่ผู้ใช้งานระบุไว้เพื่อนำไปสร้างคิ้วในขั้นตอนถัดไป
* หาก เป็น Auto: ระบบจะเข้าสู่ขั้นตอนที่ 4.1
     4.1) คำนวณรูปทรงใบหน้า (Calculate Shape Face)
เมื่อผู้ใช้งานเลือกสไตล์คิ้วเป็นแบบ Auto ระบบจะทำการวิเคราะห์ภาพใบหน้าเพื่อระบุรูปทรงของใบหน้า เช่น รูปไข่ กลม เหลี่ยม หรือสามเหลี่ยม เป็นต้น
     4.2) คำนวณสไตล์คิ้วที่เหมาะสม (Calculate Type Eyebrow)
โดยอิงจากผลลัพธ์ของรูปทรงใบหน้าที่ได้จากขั้นตอนก่อนหน้า ระบบจะเลือกหรือแนะนำสไตล์คิ้วที่เหมาะสมตามฐานความรู้ (Knowledge-based) หรือโมเดล AI ที่พัฒนาขึ้น เพื่อให้สอดคล้องกับลักษณะใบหน้าของผู้ใช้งาน
5) สร้างคิ้วใหม่ (Generate Eyebrow)
ระบบจะนำข้อมูลสไตล์คิ้ว (ไม่ว่าจะเลือกเองหรือคำนวณอัตโนมัติ) ไปประมวลผลและสร้างภาพคิ้วใหม่ที่เหมาะสม พร้อมนำไปวางบนตำแหน่งใบหน้าของผู้ใช้งานอย่างถูกต้อง
6) แนะนำสไตล์การแต่งหน้า (Recommend Makeup)
ระบบจะพิจารณาข้อมูลเกี่ยวกับโอกาสหรือกิจกรรมที่ผู้ใช้งานระบุไว้ เช่น งานกลางวันหรืองานกลางคืน แล้วแนะนำลุคการแต่งหน้าที่เหมาะสมทั้งโทนสี ความเข้ม และรายละเอียดอื่น ๆ
7) รวมภาพและสร้างลุคแต่งหน้า (Generate Makeup)
ระบบจะนำภาพใบหน้าที่มีคิ้วใหม่จากขั้นตอนที่ 5 และลุคแต่งหน้าที่แนะนำจากขั้นตอนที่ 6 มารวมกันเป็นภาพสมบูรณ์ พร้อมส่งคืนให้ผู้ใช้งานตรวจสอบหรือบันทึกผลลัพธ์ได้
3.5 การออกแบบการทดลองและการวัดประเมินผล
        เพื่อประเมินประสิทธิภาพของระบบ Deep Brow และความแม่นยำของ AI ในการตรวจจับและแนะนำทรงคิ้ว รวมถึงการถ่ายโอนการแต่งหน้า ระบบจะถูกทดสอบโดยใช้เกณฑ์มาตรฐานที่เกี่ยวข้องในสองส่วนหลัก ดังนี้
  1. ทดสอบความแม่นยำของ AI Model
   การประเมินความสามารถของแบบจำลอง AI ในการตรวจจับทรงคิ้วและวิเคราะห์โครงหน้าจะใช้ตัวชี้วัดมาตรฐาน ได้แก่
  * Precision – วัดความถูกต้องของการจำแนกว่าทรงคิ้วที่แนะนำตรงกับความต้องการของผู้ใช้หรือไม่
  * Recall – วัดอัตราการตรวจจับทรงคิ้วที่ถูกต้องจากข้อมูลทั้งหมด
  * F1-score – ค่าความสมดุลระหว่าง Precision และ Recall เพื่อให้ได้ค่าประสิทธิภาพของแบบจำลองที่ครอบคลุมที่สุด
   กระบวนการทดสอบ:
   * ใช้ชุดข้อมูลที่มีภาพใบหน้าจริงและผลลัพธ์ที่ถูกต้องเป็นข้อมูลเปรียบเทียบ
   * ประเมินผลลัพธ์ที่แบบจำลองสร้างขึ้นและเปรียบเทียบกับค่าจริง
   * คำนวณค่าตัวชี้วัดเพื่อระบุความแม่นยำของการจำแนกทรงคิ้ว
  2. ตรวจสอบความเพี้ยนของโครงหน้าหลังจากแต่งหน้า
   การทดสอบนี้มีเป้าหมายเพื่อตรวจสอบว่าแบบจำลองสามารถถ่ายโอนสไตล์การแต่งหน้าโดยไม่ส่งผลกระทบต่อโครงสร้างของใบหน้าผู้ใช้มากเกินไป
   แนวทางการประเมิน:
* ใช้ Structural Similarity Index (SSIM) เพื่อวัดระดับความคล้ายคลึงระหว่างภาพต้นฉบับกับภาพที่ถูกแต่งหน้า
* ใช้ Facial Landmark Detection เพื่อวัดการเปลี่ยนแปลงของจุดสำคัญบนใบหน้าก่อนและหลังการแต่งหน้า

   จากการศึกษาทฤษฎี เครื่องมือที่ใช้ และงานวิจัยที่เกี่ยวข้อง ทำให้ผู้พัฒนามีแนวคิดและความเข้าใจมากยิ่งขึ้น จึงได้นำหลักการมาวิเคราะห์และออกแบบเพื่อพัฒนาระบบงานใหม่ โดยเนื้อหาดังกล่าวนี้จะกล่าวถึงในบทถัดไป


บทที่ 4
ผลการดำเนินงาน
	การดำเนินโครงงานDeepBrow: AI-based Eyebrow Recommendation สามารถแสดงผลการดำเนินงานได้ โดยมีรายละเอียดดังต่อไปนี้
4.1 ผลการพัฒนาแบบจำลองปัญญาประดิษฐ์
โครงงานนี้พัฒนาและฝึกอบรมแบบจำลองปัญญาประดิษฐ์เพื่อตรวจจับทรงคิ้ว วิเคราะห์โครงหน้า สร้างทรงคิ้วใหม่ และถ่ายโอนสไตล์การแต่งหน้า ผลลัพธ์ของแต่ละแบบจำลองมีดังต่อไปนี้:
  4.1.1 การตรวจจับและแยกทรงคิ้วด้วย YOLOv11 Instance Segmentation
* วัตถุประสงค์: ตรวจจับและสร้างหน้ากาก (mask) เพื่อแยกทรงคิ้วออกจากภาพใบหน้า
* ชุดข้อมูล: Roboflow: Eyebrows Computer Vision Project 
* ผลลัพธ์:

        รูปที่ 4.1 ผลลัพธ์ทดสอบผลด้วยrecall(M)

o ฝึกอบรมด้วยชุดข้อมูลภาพใบหน้า 230 ภาพที่มีความหลากหลายของทรงคิ้ว (เช่นโค้ง,แบน,หนาหรือบาง)
o ตัวชี้วัดประสิทธิภาพ: Recall = 94.59 %
* ตัวอย่างผลลัพธ์: 
        

       รูปที่ 4.2 ผลลัพธ์การตรวจจับและ Segmentation ของคิ้ว
     
       รูปที่ 4.3 แสดงตัวอย่างผลลัพธ์จากโมเดลที่พัฒนาขึ้นสำหรับการตรวจจับและ segmentation คิ้ว (eyebrows) บนภาพใบหน้าจริง โดยภาพด้านซ้ายแสดงผลลัพธ์ของการตรวจจับคิ้วในรูปแบบ bounding box (สีน้ำเงิน) ซึ่งระบุตำแหน่งของคิ้วทั้งสองข้างได้อย่างแม่นยำ ภาพด้านขวาแสดงผลลัพธ์ของการทำ segmentation mask (สีน้ำเงิน) ซึ่งสามารถระบุพิกเซลที่เป็นส่วนของคิ้วได้อย่างละเอียด โดยครอบคลุมโครงสร้างของคิ้วทั้งสองข้าง
     
     
        
       รูปที่ 4.3 ผลลัพธ์ของ Eyebrow Mask 
     
       รูปที่ 4.3 แสดงผลลัพธ์ของการสร้าง Eyebrow Mask จากโมเดล YOLOv11 Instance Segmentation โดยบริเวณสีขาวแทนตำแหน่งของคิ้วทั้งสองข้างที่ระบบสามารถตรวจจับได้อย่างแม่นยำ ส่วนพื้นที่สีดำคือบริเวณที่ไม่ใช่คิ้ว ซึ่งถูกแยกออกอย่างชัดเจนเพื่อเตรียมใช้ในขั้นตอนลบคิ้วเดิม (Inpainting) และสร้างคิ้วใหม่ในลำดับถัดไป
     

4.1.2 การลบคิ้ว Inpainting
         ระบบใช้เทคนิคการเติมภาพ (Inpainting) เพื่อทำการลบทรงคิ้วเดิมออกจากภาพใบหน้า โดยอาศัยตำแหน่งจาก Eyebrow Mask ที่ได้จากขั้นตอนการทำ Instance Segmentation กระบวนการนี้ดำเนินการด้วยฟังก์ชัน cv2.inpaint() จากไลบรารี OpenCV ซึ่งเป็นวิธีการเติมข้อมูลบริเวณที่ลบออกโดยอิงจากพิกเซลรอบข้าง เพื่อให้ผลลัพธ์ดูสมจริงและกลมกลืนกับผิวบริเวณโดยรอบ
ในโครงการนี้ มีการทดลองใช้ ทั้งสองอัลกอริทึมที่รองรับโดย OpenCV ได้แก่
* Telea’s algorithm (INPAINT_TELEA) ซึ่งให้ผลลัพธ์ที่เนียนและเร็ว
* Navier-Stokes based method (INPAINT_NS) ซึ่งเหมาะกับการคงโครงสร้างของพื้นผิวที่ซับซ้อน
โดยระบบเลือกใช้ Telea’s algorithm เป็นหลัก (80%) และเสริมด้วยการประมวลผลบางส่วนด้วย Navier-Stokes algorithm (20%) เพื่อเพิ่มความกลมกลืนในบริเวณที่ต้องการรายละเอียดสูง เช่น บริเวณใกล้ขอบคิ้วหรือขมับ



       รูปที่ 4.4 ผลลัพธ์การลบคิ้วด้วย Inpainting
     
      รูปที่ 4.4 แสดงผลลัพธ์หลังการลบคิ้วเดิมด้วยเทคนิค Inpainting โดยใช้ฟังก์ชัน cv2.inpaint() จากไลบรารี OpenCV ซึ่งใช้ Eyebrow Mask ที่ได้จาก YOLOv11 ในการระบุบริเวณที่ต้องการลบ ระบบเลือกใช้อัลกอริทึมของ Telea’s algorithm เป็นหลัก (80%) และเสริมด้วยการประมวลผลบางส่วนด้วย Navier-Stokes algorithm (20%) เนื่องจากให้ผลลัพธ์ที่ดูเนียนตาและต่อเนื่องกับผิวหน้า ผลลัพธ์ในภาพแสดงให้เห็นว่าพื้นที่บริเวณคิ้วถูกเติมเต็มได้อย่างสมจริง ทำให้ภาพพร้อมสำหรับขั้นตอนการสร้างทรงคิ้วใหม่ในลำดับถัดไป

4.1.3 การจำแนกรูปทรงใบหน้าด้วย EfficientViT-B1
    การจำแนกรูปทรงใบหน้าด้วย EfficientViT-B1 ใช้โมเดลที่ฝึกฝนล่วงหน้าด้วย ImageNet และปรับแต่ง (fine-tuning) ต่อด้วยชุดข้อมูลเฉพาะใบหน้า เพื่อเพิ่มความแม่นยำและประสิทธิภาพในการจำแนกรูปทรงใบหน้าด้วยทรัพยากรที่น้อยลง
* วัตถุประสงค์: จำแนกรูปทรงใบหน้า (เช่นรูปไข่,กลม,เหลี่ยม,ยาว,หัวใจ)
* ชุดข้อมูล: Kaggle:Face Shape Dataset,Github:faceshape,Roboflow: faceShape Computer Vision Project , paperswithcode:FaceScape,Huggingface: metadome/face_shape_classification

     ชุดข้อมูลนี้ถูกออกแบบมาโดยเฉพาะสำหรับการจำแนกรูปทรงใบหน้า โดยครอบคลุมห้าประเภทที่แตกต่างกัน ได้แก่ Heart (รูปหัวใจ), Oblong (รูปยาวรี), Oval (รูปไข่), Round (รูปกลม) และ Square (รูปสี่เหลี่ยม) ชุดข้อมูลประกอบด้วยภาพดั้งเดิมทั้งหมด 31,211 ภาพ เพื่อเพิ่มความแข็งแกร่งและความสามารถในการตีความทั่วไปของโมเดลการเรียนรู้ของเครื่อง กลยุทธ์การเพิ่มข้อมูล (data augmentation) ดังนี้:
* การแปลงพื้นฐาน: ปรับขนาดภาพทั้งหมดให้เป็นมิติมาตรฐาน (288 x 288) แปลงเป็นรูปแบบ tensor และใช้การปรับมาตรฐาน (normalization) โดยใช้ค่าเฉลี่ย (NORM_MEAN) และส่วนเบี่ยงเบนมาตรฐาน (NORM_STD) ที่กำหนดไว้ล่วงหน้า
* RandomResizedCrop: ปรับขนาดเริ่มต้นเป็น 320x320 พิกเซล จากนั้นทำการครอปแบบสุ่มให้เป็น 288 ด้วยช่วงสเกล 0.8 ถึง 1.0
* RandomHorizontalFlip: ใช้การกลับภาพในแนวนอนด้วยความน่าจะเป็น 1.0 เพื่อให้มั่นใจว่าการเพิ่มข้อมูลนี้ถูกนำไปใช้อย่างสม่ำเสมอทั่วทั้งชุดข้อมูล
* RandomRotation: ใช้การหมุนภาพแบบสุ่มสูงสุด 15 องศา เพื่อจำลองท่าทางของศีรษะที่หลากหลาย
* ColorJitter: ปรับความสว่าง ความเปรียบต่าง และความอิ่มตัวของสีแยกกัน โดยแต่ละส่วนมีการเปลี่ยนแปลงสูงสุดที่ 0.3 เพื่อรองรับความแปรผันของแสงและสี
* RandomAffine (การเลื่อน): ใช้การเลื่อนภาพสูงสุด 10% ของขนาดภาพ เพื่อจำลองการเปลี่ยนแปลงตำแหน่งเล็กน้อย
* RandomPerspective: ใช้การบิดเบี้ยวแบบมุมมองด้วยสเกลการบิด 0.3 ซึ่งถูกนำไปใช้อย่างสม่ำเสมอเพื่อเพิ่มความหลากหลายเชิงอวกาศ
* การรวมการเพิ่มข้อมูลพร้อม RandomErasing: รวมการใช้ RandomResizedCrop (สเกล 0.85-1.0), RandomHorizontalFlip (p=0.5), ColorJitter (ความสว่าง ความเปรียบต่าง ความอิ่มตัวที่ 0.2) และ RandomErasing (p=0.5, สเกล 0.02-0.2, อัตราส่วน 0.3-3.3) เพื่อจำลองการบดบังและเพิ่มความทนทานของโมเดล การเพิ่มข้อมูลเหล่านี้ส่งผลให้ขนาดชุดฝึกอบรมเพิ่มขึ้นสิบเท่า ซึ่งช่วยเพิ่มความหลากหลายของชุดข้อมูลอย่างมากสำหรับการฝึกอบรมเครือข่ายประสาทเทียม
ส่วนประกอบของชุดข้อมูล
* ประเภท: Heart, Oblong, Oval, Round, Square
* จำนวนคลาส: 5
* ขนาดการแบ่งส่วนดั้งเดิม(31,211 ภาพ): 
o ชุดฝึกอบรม: 21,847 ภาพ
o ชุดการตรวจสอบ: 4,682 ภาพ
o ชุดทดสอบ: 4,682 ภาพ
* ขนาดหลังการเพิ่มข้อมูล: 
o ชุดฝึกอบรม(Train): 218,470 ภาพ (21,847 รูปดั้งเดิม ? 10)
o ชุดการตรวจสอบ(Test): 4,682 ภาพ (4,682 รูปดั้งเดิม ? 1)
o ชุดข้อมูลทดสอบ(validation): 4,682 ภาพ (4,682 รูปดั้งเดิม ? 1)
* ผลลัพธ์:
o ฝึกอบรมด้วยชุดข้อมูล 100000 ภาพที่มีป้ายกำกับรูปทรงใบหน้า
o ตัวชี้วัดประสิทธิภาพ: Accuracy = 97.65%, Precision = 97.65%, Recall =97.65%, F1-score = 97.64%

Class
Precision
Recall
F1-Score
Accuracy
Image
Heart
0.970
0.983
0.976
0.977
842
Oblong
0.985
0.979
0.982

913
Oval
0.980
0.954
0.967

933
Round
0.970
0.983
0.976

981
Square
0.978
0.983
0.981

1013
       ตารางที่ 4.1 Classification Report 


      ตารางที่ 4.1 แสดงรายงานการจำแนกประเภทของชุดทดสอบสำหรับโมเดลที่ใช้จำแนกรูปทรงใบหน้า โมเดลมีประสิทธิภาพโดยรวมสูง โดยมีความแม่นยำ (Accuracy) 0.9765 ค่า F1-score เฉลี่ยแบบถ่วงน้ำหนักอยู่ที่ 0.9765 และค่า F1-score ในแต่ละคลาสอยู่ในช่วง 0.9669 ถึง 0.9819 ซึ่งบ่งบอกถึงความสามารถในการจำแนกที่แม่นยำและสม่ำเสมอในทุกคลาส โดยชุดทดสอบมีจำนวนตัวอย่างทั้งหมด 4682 ตัวอย่าง
    

รูปที่4.5 รายงานการจำแนกรูปทรงใบหน้าด้วยเมทริกซ์ 

รูปที่4.7แสดงเมทริกซ์ความสับสนของโมเดลที่ดีที่สุดในการจำแนกรูปทรงใบหน้า โดยใช้ชุดฝึกที่ขยาย 10 เท่าและชุดตรวจสอบขนาดเดิม ผลลัพธ์แสดงถึงประสิทธิภาพสูงของโมเดล โดยมีการทำนายถูกต้องในแต่ละคลาสสูง (828–996 ตัวอย่าง) และการทำนายผิดส่วนใหญ่เกิดในคลาส Oval ที่ถูกทำนายผิดเป็น Heart (16 ตัวอย่าง) และ Round (13 ตัวอย่าง)
* ตัวอย่างผลลัพธ์:


       รูปที่ 4.6 ภาพใบหน้าพร้อมป้ายกำกับรูปทรงใบหน้า
     
       รูปที่ 4.6 แสดงตัวอย่างภาพใบหน้าพร้อมป้ายกำกับผลการจำแนกรูปทรงใบหน้า (Face Shape Classification) ที่ได้จากแบบจำลอง EfficientViT-B1 ซึ่งถูกฝึกด้วยชุดข้อมูลที่มีการจัดหมวดหมู่รูปทรงใบหน้าตามประเภทต่าง ๆ เช่น Oval, Round, Square, Heart และ Oblongภาพแสดงให้เห็นว่าแบบจำลองสามารถจำแนกใบหน้าตัวอย่างนี้ว่าเป็น รูปหน้ารูปไข่ (Oval) โดยมีค่าความมั่นใจในการจำแนก (Confidence Score) เท่ากับ 78.80% ซึ่งถือว่าอยู่ในระดับที่น่าเชื่อถือสำหรับการประมวลผลในขั้นตอนถัดไป เช่น การแนะนำทรงคิ้วที่เหมาะสมกับรูปหน้า
     
     
     
     
     
     
4.1.4 การใส่คิ้วด้วย Stable Diffusion 2 Inpainting
        ระบบใช้เทคนิค Stable Diffusion 2 Inpainting ซึ่งเป็นโมเดลปัญญาประดิษฐ์ประเภท Generative AI ที่สามารถสร้างภาพใหม่ขึ้นมาในบริเวณที่กำหนด โดยรักษาความกลมกลืนของพื้นผิว แสง และโทนสีให้ใกล้เคียงกับภาพเดิมมากที่สุด สำหรับโครงงานนี้ โมเดลดังกล่าวถูกนำมาใช้เพื่อ สร้างทรงคิ้วใหม่บนใบหน้าผู้ใช้ หลังจากที่มีการลบคิ้วเดิมออกแล้วด้วยเทคนิค Inpainting
การใส่คิ้วใหม่จะอ้างอิงจากข้อมูล 3 ส่วน ได้แก่:
1. ภาพใบหน้าที่ลบคิ้วเดิมแล้ว (Clean Face)
ได้จากขั้นตอนการลบคิ้วโดยใช้ cv2.inpaint() โดยมีเพียงบริเวณหน้าผากและดวงตาที่เรียบเนียน
2. Eyebrow Mask ใหม่
ระบบจะสร้าง mask ขนาดและตำแหน่งเหมาะสมโดยอิงจากจุด Landmark ที่ได้จาก Mediapipe Face Mesh
3. Prompt ข้อความ สำหรับกำหนดลักษณะทรงคิ้วที่ต้องการ เช่น
"eyebrow, medium arch, soft angle, dark brown"
ซึ่งเป็นผลจาก Rule-based Recommendation ตามประเภทใบหน้า
กระบวนการทำงานของ Stable Diffusion จะรับภาพและ mask ดังกล่าวเข้าไปในโมเดล จากนั้นทำการสังเคราะห์คิ้วในบริเวณที่กำหนด โดยอ้างอิงจาก prompt เพื่อให้ได้ทรงคิ้วที่กลมกลืนกับบริบทของใบหน้า



       รูปที่ 4.7 Eyebrow Mask 
       รูปที่ 4.6 แสดง Eyebrow Mask รูปแบบใหม่ ที่ถูกสร้างขึ้นจากตำแหน่ง Landmark และคำแนะนำจาก Rule-based System เพื่อนำไปใช้ในขั้นตอนการสร้างคิ้วใหม่ด้วยโมเดล Stable Diffusion 2 Inpainting พื้นที่สีขาวระบุตำแหน่งที่ต้องการให้ระบบเติมทรงคิ้วตามลักษณะที่กำหนด เช่น ความโค้งหรือความหนา โดย Mask นี้มีบทบาทสำคัญในการควบคุมบริเวณการสร้างภาพให้จำกัดเฉพาะจุดที่ต้องการเท่านั้น เพื่อให้ผลลัพธ์มีความสมจริงและไม่รบกวนองค์ประกอบอื่นของใบหน้า
     


       รูปที่ 4.8 ภาพใบหน้าพร้อมป้ายกำกับรูปทรงใบหน้า

    รูปที่ 4.6 แสดงผลลัพธ์ของระบบ Deep Brow: AI-based Eyebrow Recommendation โดยเปรียบเทียบระหว่างภาพ ก่อน (Before) และ หลัง (After) การสร้างคิ้วใหม่ด้วยเทคโนโลยี Stable Diffusion 2 Inpainting
* ฝั่งซ้าย (Before): แสดงภาพใบหน้าต้นฉบับของผู้ใช้งาน
* ฝั่งขวา (After): แสดงผลลัพธ์หลังจากที่ระบบสร้างทรงคิ้วใหม่ในตำแหน่งที่เหมาะสม โดยอ้างอิงจากผลการจำแนกรูปทรงใบหน้า (Face Shape: Oval) และใช้ prompt ที่กำหนดทรงคิ้วแบบ "Soft Arch, Natural Thickness, Dark Brown"
การเปรียบเทียบแสดงให้เห็นว่า คิ้วที่สร้างใหม่มีความกลมกลืนกับรูปหน้าเดิม ทั้งในด้านสี รูปทรง และตำแหน่ง โดยไม่รบกวนองค์ประกอบอื่น ๆ ของใบหน้า ซึ่งสะท้อนถึงความสามารถของระบบในการสร้างภาพเสมือนจริงที่ตอบโจทย์การใช้งานในบริบทของความงามและการทดลองลุคก่อนตัดสินใจจริง


4.1.5 การถ่ายโอนสไตล์การแต่งหน้าด้วย CSD-MIT
* วัตถุประสงค์: ถ่ายโอนสไตล์การแต่งหน้า (เช่น ลิปสติก, อายแชโดว์, บลัชออน) จากภาพอ้างอิง
* ชุดข้อมูล: MT-Dataset
* ผลลัพธ์:
        การประเมินคุณภาพของภาพหลังถ่ายโอนสไตล์การแต่งหน้าด้วยโมเดล CSD-MIT ใช้ตัวชี้วัดมาตรฐานจำนวน 2 ค่า ได้แก่:
1. Structural Similarity Index (SSIM) = 0.9001
SSIM เป็นค่าที่ใช้วัด ระดับความคล้ายคลึงทางโครงสร้าง (structural similarity) ระหว่างภาพต้นฉบับและภาพที่ผ่านการประมวลผล โดยพิจารณาจากความสว่าง (luminance), ความคมชัด (contrast) และโครงสร้าง (structure) ของภาพ
* ค่า SSIM มีช่วงอยู่ระหว่าง 0 ถึง 1
* ยิ่งค่าใกล้ 1.0 หมายถึงภาพผลลัพธ์ มีความใกล้เคียงกับต้นฉบับมาก
* ในกรณีนี้ ค่า SSIM = 0.9001 แสดงให้เห็นว่า โครงสร้างใบหน้าดั้งเดิมยังคงถูกอนุรักษ์ไว้ได้ดี แม้จะมีการแต่งหน้าเพิ่มเข้าไป
2. Fr?chet Inception Distance (FID) = 40.1973
FID เป็นตัวชี้วัดที่ใช้ประเมิน ความสมจริงของภาพที่สร้างขึ้น โดยเปรียบเทียบคุณสมบัติของภาพที่ได้กับภาพจริงในเชิงสถิติ (เช่น ค่าเฉลี่ยและค่าความแปรปรวนของ feature vectors)
* ค่า FID ยิ่ง ต่ำ แสดงว่าภาพที่สร้างมี คุณภาพสูงและดูสมจริง
* โดยทั่วไป FID ที่ต่ำกว่า 50 ถือว่าผลลัพธ์มีคุณภาพดีในงานสร้างภาพด้วย AI
ดังนั้น ค่า FID = 40.1973 แสดงให้เห็นว่า ภาพใบหน้าหลังการถ่ายโอนการแต่งหน้ามีความสมจริงและใกล้เคียงกับภาพที่พบในโลกจริง



       รูปที่ 4.9 ภาพใบหน้าพร้อมการถ่ายโอนสไตล์การแต่งหน้า
     
       รูปที่ 4.9 แสดงภาพใบหน้าหลังการถ่ายโอนสไตล์การแต่งหน้าด้วยโมเดล CSD-MITแสดงผลลัพธ์ของระบบหลังจากนำสไตล์การแต่งหน้าจากภาพอ้างอิงไปถ่ายโอนมายังภาพของผู้ใช้ โดยใช้โมเดล CSD-MIT ซึ่งสามารถแยกองค์ประกอบของใบหน้า (content) ออกจากองค์ประกอบของสไตล์การแต่งหน้า (style) ได้อย่างมีประสิทธิภาพ
        จากภาพจะเห็นว่า ใบหน้ามีการปรับแต่งในหลายบริเวณ ได้แก่:
* ลิปสติก: มีการเปลี่ยนสีริมฝีปากให้เข้มขึ้นอย่างกลมกลืน
* อายแชโดว์: เพิ่มเงาสีบริเวณเปลือกตา 
* บลัชออน: เพิ่มสีชมพูระเรื่อบริเวณแก้มทั้งสองข้าง
        ทั้งหมดนี้เกิดขึ้นโดยยัง รักษาโครงสร้างใบหน้าดั้งเดิมไว้อย่างครบถ้วน ไม่ทำให้ใบหน้าเบี้ยวหรือผิดรูป ส่งผลให้ภาพสุดท้ายมีความสมจริงและกลมกลืน ซึ่งสะท้อนถึงประสิทธิภาพของโมเดล CSD-MIT ในการถ่ายโอนลุคการแต่งหน้าอย่างแม่นยำ
     







4.2 เว็บไซต์ระบบ ระบบแนะนำทรงคิ้วด้วยปัญญาประดิษฐ์
        เพื่อให้ผู้ใช้งานสามารถเข้าถึงและทดลองระบบได้อย่างสะดวก โครงงานจึงได้พัฒนาเว็บไซต์สำหรับใช้งานระบบแนะนำทรงคิ้วด้วย AI โดยออกแบบให้ใช้งานง่าย รองรับการอัปโหลดภาพ วิเคราะห์ใบหน้า และแสดงผลลัพธ์ทรงคิ้วที่เหมาะสมแบบเสมือนจริงในทันที

4.2.1 หน้าเว็บไซต์ต้นแบบ

1) ผู้ใช้ป้อนข้อมูลโอกาสงานสำคัญ(Input)

       รูปที่ 4.10  ภาพแสดงหน้าเว็บไซต์การรับข้อมูลโอกาสงานสำคัญจากผู้ใช้
     
2) ผู้ใช้ป้อนข้อมูลโอกาสงานสำคัญ(Input)
       รูปที่ 4.11  ภาพแสดงหน้าเว็บไซต์แสดงสไตส์แต่งหน้า

        
รูปที่ 4.12  ภาพแสดงหน้าเว็บไซต์แสดงสไตส์คิ้ว




4.2.2 เว็บไซต์เวอร์ชันใหม่หลังสอบถามความคิดเห็นผู้ใช้งาน

1) ผู้ใช้ป้อนข้อมูลโอกาสงานสำคัญ(Input)

     
รูปที่ 4.13  ภาพแสดงหน้าเว็บไซต์



รูปที่ 4.14  ภาพแสดงหน้าเว็บไซต์แสดงให้เลือกทรงคิ้ว
     

บทที่ 5
สรุปและอภิปรายผลการดำเนินงาน
	การดำเนินโครงงานDeep Brow: AI-based Eyebrow Recommendationสามารถสรุปผลและอภิปรายผลการดำเนินงาน ข้อจำกัดของระบบงาน และข้อเสนอแนะเพื่อการพัฒนาต่อในอนาคตได้ดังนี้
5.1 สรุปและอภิปรายผลการดำเนินงาน
        โครงงาน “Deep Brow: AI-based Eyebrow Recommendation” มีจุดมุ่งหมายเพื่อพัฒนาระบบแนะนำทรงคิ้วอัจฉริยะที่สามารถวิเคราะห์โครงสร้างใบหน้าของผู้ใช้งาน และนำเสนอทรงคิ้วที่เหมาะสมกับรูปหน้าของแต่ละบุคคล พร้อมทั้งสร้างตัวอย่างภาพเสมือนจริง (Virtual Try-on) ให้ผู้ใช้สามารถทดลองทรงคิ้วและลุคการแต่งหน้าได้ก่อนการตัดสินใจปรับแต่งจริง ระบบนี้พัฒนาขึ้นเพื่อเพิ่มความสะดวกในการเลือกทรงคิ้ว ลดข้อผิดพลาดจากการกันหรือสักคิ้วผิดรูป และเพิ่มความมั่นใจแก่ผู้ใช้งาน โดยใช้การบูรณาการเทคโนโลยีปัญญาประดิษฐ์ร่วมกับการประมวลผลภาพอย่างลึกซึ้ง
    ตลอดกระบวนการดำเนินงาน ระบบได้รับการออกแบบให้ครอบคลุมการทำงานหลายขั้นตอนอย่างเป็นระบบ ตั้งแต่การรับข้อมูลภาพใบหน้าจากผู้ใช้ การประมวลผลภาพ การวิเคราะห์และจำแนกรูปหน้าด้วยโมเดล EfficientViT-B1 การตรวจจับและลบทรงคิ้วเดิมด้วย YOLOv11 Instance Segmentation การสร้างทรงคิ้วใหม่ผ่าน Stable Diffusion 2 Inpainting ไปจนถึงการถ่ายโอนสไตล์การแต่งหน้าด้วยโมเดล CSD-MIT โดยผลลัพธ์ของการดำเนินงานในแต่ละโมดูลมีดังนี้
1. การตรวจจับทรงคิ้วด้วย YOLOv11 Instance Segmentation
โมเดลได้รับการฝึกจากชุดข้อมูลที่มีภาพใบหน้าและทรงคิ้วหลากหลายรูปแบบ โดยมีค่า Recall สูงถึง 94.59% และค่า Mean Average Precision (mAP) สูงถึง 98.84% ซึ่งสะท้อนถึงความแม่นยำและครอบคลุมในการตรวจจับตำแหน่งคิ้วเดิมที่ต้องลบออกเพื่อเตรียมพื้นที่สำหรับสร้างคิ้วใหม่
2. การจำแนกรูปทรงใบหน้าด้วย EfficientViT-B1
EfficientViT-B1 ซึ่งเป็น Vision Transformer ประสิทธิภาพสูง ได้รับการฝึกและปรับแต่งเพิ่มเติมด้วยชุดข้อมูลเฉพาะด้านรูปหน้าจำนวนมาก ส่งผลให้สามารถจำแนกประเภทรูปหน้าได้อย่างแม่นยำ โดยมีค่า Accuracy เท่ากับ 97.65% และค่า F1-score เท่ากับ 97.64% ซึ่งยืนยันว่าโมเดลสามารถจำแนกรูปหน้าได้อย่างสม่ำเสมอและแม่นยำในทุกประเภท
3. การสร้างทรงคิ้วใหม่ด้วย Stable Diffusion 2 Inpainting
โมเดล Stable Diffusion ทำหน้าที่สร้างภาพทรงคิ้วใหม่จากพื้นที่ที่ลบคิ้วเดิมออก โดยอ้างอิงตำแหน่งจาก Mediapipe Face Mesh และคำอธิบายลักษณะคิ้วที่ได้จากระบบกฎ (Rule-based Prompt) ผลลัพธ์ที่ได้แสดงให้เห็นถึงความสมจริง กลมกลืนกับภาพใบหน้าเดิม โดยไม่มีรอยต่อหรือความผิดปกติทางแสงและผิวหนัง
4. การถ่ายโอนการแต่งหน้าด้วย CSD-MIT
เพื่อเติมเต็มประสบการณ์ผู้ใช้ ระบบได้เพิ่มความสามารถในการถ่ายโอนสไตล์การแต่งหน้าโดยอ้างอิงจากภาพตัวอย่างที่ผู้ใช้เลือก ผ่านโมเดล CSD-MIT ซึ่งสามารถถ่ายโอนลิปสติก อายแชโดว์ และบลัชออนได้อย่างกลมกลืน โดยไม่ทำให้โครงสร้างใบหน้าเปลี่ยนแปลงมากนัก ประสิทธิภาพของระบบได้รับการประเมินด้วยค่า Structural Similarity Index (SSIM) เท่ากับ 0.9001 และ Fr?chet Inception Distance (FID) เท่ากับ 40.1973 ซึ่งแสดงถึงความสมจริงของภาพที่สร้างขึ้นเมื่อเทียบกับภาพจริง
5. การพัฒนาเว็บไซต์ระบบแนะนำทรงคิ้ว
เว็บไซต์ถูกพัฒนาด้วย FastAPI สำหรับส่วน Backend และ React สำหรับส่วน Frontend เพื่อให้ผู้ใช้งานสามารถอัปโหลดภาพใบหน้า เลือกหรือรับคำแนะนำทรงคิ้ว และทดลองลุคแบบเสมือนจริงผ่าน Web Interface ได้อย่างสะดวก รองรับการทำงานแบบเรียลไทม์ และใช้งานง่ายผ่านอุปกรณ์ทั่วไป เช่น สมาร์ตโฟนหรือคอมพิวเตอร์


5.2 ข้อจำกัดของระบบงาน
        โครงงาน Deep Brow: AI-based Eyebrow Recommendation จะสามารถบูรณาการเทคโนโลยีหลายแขนงได้อย่างมีประสิทธิภาพ ทั้งในด้านการตรวจจับทรงคิ้ว การจำแนกรูปทรงใบหน้า และการสร้างภาพเสมือนจริงของการแต่งหน้า แต่ก็ยังมีข้อจำกัดบางประการที่ควรพิจารณา ดังนี้
        1. ข้อจำกัดด้านความแม่นยำของการวิเคราะห์ในสภาพแวดล้อมที่แตกต่างกัแบบจำลองการตรวจจับทรงคิ้วและการจำแนกรูปทรงใบหน้า อาจมีประสิทธิภาพลดลงเมื่อเผชิญกับสภาพแสงที่ไม่เหมาะสม เช่น แสงจ้า เงามืด หรือความคมชัดของภาพต่ำ ซึ่งส่งผลต่อความแม่นยำในการวิเคราะห์และแนะนำทรงคิ้ว
        2. ข้อจำกัดด้านความหลากหลายของชุดข้อมูล(DatasetDiversity)แม้จะใช้ชุดข้อมูลที่มีขนาดใหญ่และผ่านการปรับแต่งแล้วแต่ยังคงมีข้อจำกัดในเรื่องความหลากหลายของลักษณะใบหน้าเช่น สีผิว ลักษณะคิ้วเฉพาะกลุ่มชาติพันธุ์ หรืออายุที่แตกต่างกัน ซึ่งอาจทำให้แบบจำลองมีความลำเอียง (Bias) ในบางกรณี
        3. ข้อจำกัดด้านรูปแบบการรับภาพ(InputImageLimitation)ระบบออกแบบมาเพื่อรองรับเฉพาะ "ภาพหน้าตรง" ที่แสดงโครงหน้าอย่างชัดเจนเท่านั้นหากผู้ใช้อัปโหลดภาพใบหน้าที่เอียง เงย หรือก้มมากเกินไป ระบบอาจไม่สามารถวิเคราะห์ตำแหน่งทรงคิ้วและรูปทรงใบหน้าได้อย่างแม่นยำ ส่งผลต่อความถูกต้องของผลลัพธ์ที่ได้รับ
        4. ข้อจำกัดด้านการจำลองทรงคิ้วแบบสามมิติระบบสามารถสร้างภาพทรงคิ้วเสมือนจริงในรูปแบบสองมิติ(2D Virtual Try-on) ได้อย่างดีเยี่ยม แต่ยังไม่รองรับการสร้างคิ้วในลักษณะสามมิติ(3DModeling)ซึ่งจำเป็นสำหรับการใช้งานที่ต้องการความสมจริงสูงเช่นAR (Augmented Reality) แบบเรียลไทม์
        5. ข้อจำกัดด้านรูปแบบทรงคิ้วที่รองรับ (Eyebrow Shape Limitation)
        ระบบแนะนำทรงคิ้วในปัจจุบันสามารถรองรับได้เฉพาะรูปแบบทรงคิ้วมาตรฐานบางประเภทเท่านั้น ได้แก่
     o Flat (ทรงแบน)
     o Hard Angle (ทรงมุมแหลม)
     o Rounded Arch (ทรงโค้งมน)
     o Soft Angle (ทรงมุมโค้งอ่อน)
     o Steep Arch (ทรงโค้งชัน)
     o Straight Brow (ทรงตรง)
        6. ข้อจำกัดด้านการถ่ายโอนสไตล์การแต่งหน้า
        แม้ว่าการใช้โมเดล CSD-MIT จะสามารถถ่ายโอนสไตล์การแต่งหน้าได้อย่างมีประสิทธิภาพ แต่ก็ยังพบว่าภาพที่ได้อาจมีความผิดเพี้ยนเล็กน้อยในบางกรณี โดยเฉพาะเมื่อภาพต้นฉบับและภาพอ้างอิงมีโครงสร้างใบหน้าที่แตกต่างกันอย่างชัดเจน
5.3 ข้อเสนอแนะเพื่อการพัฒนา
        เพื่อเพิ่มประสิทธิภาพของระบบ Deep Brow: AI-based Eyebrow Recommendation และรองรับการใช้งานในสถานการณ์ที่หลากหลายยิ่งขึ้น จึงมีข้อเสนอแนะสำหรับการพัฒนาในอนาคตดังต่อไปนี้
        1. เพิ่มความหลากหลายของชุดข้อมูลฝึกสอน (Dataset Augmentation)ควรเพิ่มชุดข้อมูลที่มีความหลากหลายด้านเชื้อชาติ เพศ อายุ และสภาพแสง เพื่อช่วยลดความลำเอียงของแบบจำลอง และเพิ่มความแม่นยำในการทำงานกับใบหน้าทุกรูปแบบ
     2. พัฒนาโมเดลที่รองรับการสร้างคิ้วแบบสามมิติ (3D Eyebrow Modeling)การสร้างภาพทรงคิ้วในรูปแบบ 3D จะช่วยให้ผู้ใช้สามารถหมุนภาพใบหน้าเพื่อดูทรงคิ้วจากมุมต่าง ๆ เพิ่มความสมจริงและประสบการณ์ผู้ใช้ โดยเฉพาะในการใช้งานร่วมกับเทคโนโลยี AR
        3. เพิ่มระบบประมวลผลภาพเบื้องต้น (Preprocessing) อัตโนมัติเช่น การปรับแสงและลดนอยส์ (Noise Reduction)ของภาพใบหน้าก่อนส่งเข้าระบบ เพื่อลดผลกระทบจากสภาพแสงและคุณภาพกล้องที่หลากหลาย
        4. พัฒนาระบบรองรับการทำงานบนอุปกรณ์พกพา (Mobile Optimization)มีการปรับลดขนาดโมเดล (Model Compression) หรือใช้โมเดลเบา (Lightweight Models) เพื่อให้ระบบสามารถทำงานได้บนอุปกรณ์สมาร์ตโฟนทั่วไป โดยไม่ต้องพึ่งพาเซิร์ฟเวอร์ประสิทธิภาพสูง
        5. เพิ่มฟังก์ชันการแนะนำแบบปรับแต่งได้ (Personalized Recommendation Settings)เปิดให้ผู้ใช้งานสามารถตั้งค่าความต้องการเพิ่มเติม เช่น รูปแบบการแต่งหน้า ลุคเฉพาะโอกาส หรือสไตล์ที่ต้องการ เพื่อให้การแนะนำมีความเฉพาะตัวสูงขึ้น และตรงกับความคาดหวังของผู้ใช้มากที่สุด
     6. พัฒนา User Interface (UI) และ User Experience (UX)เสริมความสามารถของส่วนติดต่อผู้ใช้ เช่น การเปรียบเทียบลุคก่อน-หลังในหน้าจอเดียว (Split View),การเลื่อนดูทรงคิ้วหลายแบบอย่างรวดเร็ว (Carousel Browsing) เพื่อเพิ่มความสะดวกและประสิทธิภาพในการใช้งาน

บรรณานุกรม

1. , K, Xie E, Dai J, Xia X, Yao Z. EfficientViT: Memory Efficient Vision Transformer with Cascaded Group Attention. In: Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR 2023); 2023. Available from: https://arxiv.org/abs/2305.07074
2. Kim J, Park S, Kim K. BeautyGAN: Instance-aware Makeup Transfer with Deep Learning. IEEE Trans Multimed. 2021;23:2271-82. Available from: https://doi.org/10.1109/TMM.2020.3035517
3. Lee J, Park S, Kim S, Kim J. Facial Landmark Detection and Shape Analysis for Cosmetic Surgery Planning. Int J Comput Assist Radiol Surg. 2020;15(2):299-308. Available from: https://doi.org/10.1007/s11548-019-02075-4
4. Li Z, Zhang Y, Liu S, Ding E. CSD-MIT: Content-Style Decoupling for Unsupervised Makeup Transfer. In: Proceedings of the IEEE/CVF International Conference on Computer Vision (ICCV 2023); 2023. Available from: https://arxiv.org/abs/2302.06257
5. Pasupa K, Sornlertlamvanich V, Saitoh T. A Hybrid Approach to Building Face Shape Classifier for Hairstyle Recommender System. Procedia Comput Sci. 2019;156:129-36. Available from: https://doi.org/10.1016/j.procs.2019.08.178
6. Rombach R, Blattmann A, Lorenz D, Esser P, Ommer B. High-Resolution Image Synthesis with Latent Diffusion Models. In: Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR 2022); 2022. Available from: https://arxiv.org/abs/2112.10752
7. Zhang F, Bazarevsky V, Vakunov A, Tkachenka A, Sung G, Chang CL, Grundmann M. MediaPipe Face Mesh: A Versatile Framework for Real-Time Face Geometry Estimation. In: Proceedings of the European Conference on Computer Vision (ECCV 2022); 2022. Available from: https://arxiv.org/abs/2006.10204
8. Zhao H, Huang Y, Li X. Data-driven Research on the Matching Degree of Eyes, Eyebrows and Face Shapes. J Imaging Sci Technol. 2019;63(5):050401-1-050401-8. Available from: https://doi.org/10.2352/J.ImagingSci.Technol.2019.63.5.050401








ภาคผนวก ก
แผนผังการทำงานของระบบ


แผนผังการทำงานของระบบ


รูปที่ ก.1ผังงานแสดงขั้นตอนการทำงานของระบบ

จากรูปที่ ก.1สามารถอธิบายขั้นตอนการทํางานของได้ดังนี้
1) รับข้อมูลจากผู้ใช้งาน
ระบบเริ่มต้นจากการรับข้อมูลเบื้องต้นจากผู้ใช้งาน ซึ่งประกอบด้วย
* ภาพใบหน้าของผู้ใช้งาน (Image Face)
* ประเภทหรือสไตล์คิ้วที่ต้องการ (Type Eyebrow) ซึ่งผู้ใช้งานสามารถระบุได้เองหรือเลือกให้ระบบกำหนดอัตโนมัติ (Auto)
* โอกาสหรือสถานการณ์ที่จะใช้การแต่งหน้า (Occasion Makeup) เช่น งานสัมภาษณ์ งานแต่งงาน หรืองานปาร์ตี้
2) Segment Eyebrow
ระบบจะนำภาพใบหน้าที่ได้รับจากผู้ใช้งานมาดำเนินการแยกบริเวณคิ้ว (Eyebrow Segmentation) 
3)Delete Eyebrow
หลังจากได้ตำแหน่งคิ้วแล้ว ระบบจะทำการลบคิ้วออกจากภาพใบหน้า โดยใช้ข้อมูลจากขั้นตอน Segment Eyebrow เพื่อเตรียมพื้นที่สำหรับการสร้างคิ้วใหม่ในภายหลัง
4) ตรวจสอบสไตล์คิ้วที่เลือก
ระบบจะตรวจสอบว่าผู้ใช้งานเลือกประเภทคิ้วแบบ “Auto” หรือไม่
* หาก ไม่ใช่ Auto: ระบบจะใช้สไตล์ที่ผู้ใช้งานระบุไว้เพื่อนำไปสร้างคิ้วในขั้นตอนถัดไป
* หาก เป็น Auto: ระบบจะเข้าสู่ขั้นตอนที่ 4.1
     4.1) คำนวณรูปทรงใบหน้า (Calculate Shape Face)
เมื่อผู้ใช้งานเลือกสไตล์คิ้วเป็นแบบ Auto ระบบจะทำการวิเคราะห์ภาพใบหน้าเพื่อระบุรูปทรงของใบหน้า เช่น รูปไข่ กลม เหลี่ยม หรือสามเหลี่ยม เป็นต้น
     4.2) คำนวณสไตล์คิ้วที่เหมาะสม (Calculate Type Eyebrow)
โดยอิงจากผลลัพธ์ของรูปทรงใบหน้าที่ได้จากขั้นตอนก่อนหน้า ระบบจะเลือกหรือแนะนำสไตล์คิ้วที่เหมาะสมตามฐานความรู้ (Knowledge-based) หรือโมเดล AI ที่พัฒนาขึ้น เพื่อให้สอดคล้องกับลักษณะใบหน้าของผู้ใช้งาน
5) สร้างคิ้วใหม่ (Generate Eyebrow)
ระบบจะนำข้อมูลสไตล์คิ้ว (ไม่ว่าจะเลือกเองหรือคำนวณอัตโนมัติ) ไปประมวลผลและสร้างภาพคิ้วใหม่ที่เหมาะสม พร้อมนำไปวางบนตำแหน่งใบหน้าของผู้ใช้งานอย่างถูกต้อง
6) แนะนำสไตล์การแต่งหน้า (Recommend Makeup)
ระบบจะพิจารณาข้อมูลเกี่ยวกับโอกาสหรือกิจกรรมที่ผู้ใช้งานระบุไว้ เช่น งานกลางวันหรืองานกลางคืน แล้วแนะนำลุคการแต่งหน้าที่เหมาะสมทั้งโทนสี ความเข้ม และรายละเอียดอื่น ๆ
7) รวมภาพและสร้างลุคแต่งหน้า (Generate Makeup)
ระบบจะนำภาพใบหน้าที่มีคิ้วใหม่จากขั้นตอนที่ 5 และลุคแต่งหน้าที่แนะนำจากขั้นตอนที่ 6 มารวมกันเป็นภาพสมบูรณ์ พร้อมส่งคืนให้ผู้ใช้งานตรวจสอบหรือบันทึกผลลัพธ์ได้










ภาคผนวก ข
คู่มือการติดตั้งระบบ

คู่มือการติดตั้งระบบ
1.	ติดตั้ง Visual Studio Code ให้ทําการดาวน์โหลดและติดตั้งโปรแกรม เลือก I accept the agreement และคลิก Next ไปเรื่อยๆจนจบขั้นตอนการ Install ดังรูปที่ ข.1


รูปที่ ข.1 การติดตั้ง vs code

2. ติดตั้ง Python เข้าไปที่ www.python.org ทําการดาวน์โหลดและติดตั้ง Python โดยการ กด Install Now ดังรูปที่ ข.2

รูปที่ ข.2 การติดตั้ง Python

3. ติดตั้ง Code และ Library ที่ใช่ในระบบโดยใช้คําสั่งต่อไป ไปที่ https://github.com/TimWorld8/Website_DEEPBROW_FULL ดังรูปที่ ข.3



รูปที่ ข.3 รูป Github TimWorld8/Website_DEEPBROW_FULL
4. กด Local Download ZIP และติดตั้งไปยังพื้นที่ต้องการจัดเก็บ

รูปที่ ข.4 รูป Github โหลด Download Local 
5. เปิด terminal พิมพ์ pip install -r requirement.txt



















ภาคผนวก ค

คู่มือการใช้งานระบบ

1. เปิด terminal พิมพ์ cd .\API\Frontend\deepbrow-frontend\
2.พิมพ์ terminal npm run dev เพื่อทำการเปิด frontend
3. เปิด terminal พิมพ์ cd .\API\Backend\
     3.1.พิมพ์ terminal python backend.py เพื่อทำการเปิด backend เชื่อมระหว่างหน้าเว็บกับAI
	3.2 พิมพ์ terminal python recommendation_engine.py เพื่อทำการเปิดแนะนำMakeup Style
	3.3 พิมพ์ terminal python AI_API.py เพื่อทำการเปิด AI ทำการประมวณผลเป็นหลัก













ภาคผนวก ง

ประวัติผู้จัดทำ
        ชื่อ – สกุล		ชิษณุชา อัครกุลพิชา
 	รหัสนักศึกษา		640549-057
        วัน/เดือน/ปี เกิด		26/กันยายน/2545
        ที่อยู่			142 หมู่6 ตำบล หนองพลับ 
        			อำเภอเมือง จังหวัด เพชรบุรี 76000
        อีเมล			Chitsanucha4@gmail.com
        เบอร์โทรศัพท์		099-416-1454
        ประวัติการศึกษา 
     	พ.ศ. 2558	ประถมศึกษา โรงเรียนสารสาสน์วิเทศเพชรบุรี 	
               พ.ศ. 2561	มัธยมศึกษา โรงเรียนพรหมานุสรณ์จังหวัดเพชรบุรี
               พ.ศ. 2568	ปริญญาตรี วิทยาศาสตรบัณฑิต(สาขาวิชาปัญญาประดิษฐ์)
               	คณะวิทยาศาสตร์และเทคโนโลยี
               	มหาวิทยาลัยหัวเฉียวเฉลิมพระเกียรติ
         

ฐ


จ


ช





ฐ







40


85


98





101








133


140


